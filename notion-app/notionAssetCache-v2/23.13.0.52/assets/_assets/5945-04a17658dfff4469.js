"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[5945],{46945:(t,e,s)=>{s.d(e,{Z:()=>f});s(67294);var o=s(83355),i=s(13991),n=s(8848),r=s(53877),a=s(42875),p=s(82990),d=s(28020),l=s(77907),h=s(13854),u=s(85893);const c={monthControl:{position:"absolute",top:0,right:0,display:"flex"},selectedRange:{backgroundColor:n.ZP.blueWithAlpha(.15)},active:{backgroundColor:n.ZP.blue,color:n.ZP.white},inactive:{backgroundColor:n.ZP.blueWithAlpha(.43)},disabled:{pointerEvents:"none"},today:{fontWeight:p.Z.fontWeight.regular}};class g extends o.Z{constructor(){super(...arguments),this.currentDate=void 0}renderComponent(){const{readonly:t}=this.props,e=this.getDisplayMonth();return(0,u.jsx)(l.LazyDayPicker,{className:"notion-calendar-picker",defaultMonth:e,month:e,numberOfMonths:1,weekStartsOn:d.AK.state,locale:i.SP,showOutsideDays:!0,fixedWeeks:!0,onDayClick:t=>function(t,e,s,o,i,n,a,p){if(n||p)return;const d=e.getFocus(),l=r.OQ.toPersistedDate(t.valueOf()),u=o(d,{value:l}),c=u.error?u:{value:{[d]:u.value[d]}};i(c),e.setState({...e.state,hovered:void 0}),a&&a.setState({...a.state,hovered:void 0});if(u.error)return;"starting"!==d||s.ending||(e.setState({...e.state,focus:"ending"}),a&&a.setState({...a.state,focus:h.yO.ending}));const g="starting"===d?"ending":"starting";e.setState({...e.state,focus:g}),a&&a.setState({...a.state,focus:h.yO[g]})}(t,this.props.store,this.props.value,this.props.validate,this.props.onUpdate,this.props.disabled,this.props.dateTimeStore,this.props.readonly),onDayMouseEnter:t=>function(t,e,s,o,i,n){const a=e.getFocus(),p=r.OQ.jsDateToLuxon(t);if(o||n)return;if("starting"===a&&s.ending&&!s.starting){r.OQ.notionDateToLuxon(s.ending)>=p&&(e.setState({...e.state,hovered:t}),i&&i.setState({...i.state,hovered:t}))}else if("ending"===a&&s.starting&&!s.ending){r.OQ.notionDateToLuxon(s.starting)<=p&&(e.setState({...e.state,hovered:t}),i&&i.setState({...i.state,hovered:t}))}}(t,this.props.store,this.props.value,this.props.disabled,this.props.dateTimeStore,this.props.readonly),onMonthSelected:t=>function(t,e,s){e.setState({...e.state,displayMonth:r.OQ.jsDateToLuxon(t)}),s&&s.setState({...s.state,displayMonth:r.OQ.jsDateToLuxon(t)})}(t,this.props.store,this.props.dateTimeStore),modifiers:v(this.props.store,this.props.value,this.props.disabled),modifiersStyles:x(this.props.store,this.theme),disabled:!!t||void 0})}getCurrentDate(){if(!this.currentDate){const t=r.Lg((0,a.r)());this.currentDate=r.OQ.notionDateToJsDate(t)}return this.currentDate}getDisplayMonth(){const{value:t,store:e}=this.props;if(e.state.displayMonth)return e.state.displayMonth.toJSDate();if("starting"===e.getFocus()){if(t.starting)return r.OQ.notionDateToJsDate(t.starting);if(t.ending)return r.OQ.notionDateToJsDate(t.ending)}if("ending"===e.getFocus()){if(t.ending)return r.OQ.notionDateToJsDate(t.ending);if(t.starting)return r.OQ.notionDateToJsDate(t.starting)}return this.getCurrentDate()}}g.displayName="DateRangePicker";const f=g;function v(t,e,s){const o=function(t,e,s){if(e)return t=>!0;const o=t=>"ending"===s.getFocus()&&{before:t},i=t=>"starting"===s.getFocus()&&{after:t};if(t.starting&&t.ending){const e=r.OQ.notionDateToJsDate(t.starting),s=r.OQ.notionDateToJsDate(t.ending);return o(e)||i(s)}if(t.starting)return o(r.OQ.notionDateToJsDate(t.starting));if(t.ending)return i(r.OQ.notionDateToJsDate(t.ending));return!1}(e,s,t),{hovered:i}=t.state;if(s)return{disabled:o};if(e.starting&&e.ending){const t=r.OQ.notionDateToJsDate(e.starting),s=r.OQ.notionDateToJsDate(e.ending);return{range:{from:t,to:s},start:t,end:s,disabled:o}}if(e.starting){const t=r.OQ.notionDateToJsDate(e.starting);return{range:i&&{from:t,to:i},start:t,end:i,disabled:o,selected:[t,i]}}if(e.ending){const t=r.OQ.notionDateToJsDate(e.ending);return{range:i&&{from:i,to:t},start:i,end:t,disabled:o,selected:[t,i]}}}function x(t,e){const s=c,o=function(t){return{disabled:{color:t.lightTextColor},today:{color:n.ZP.white}}}(e),i=t.getFocus(),r=s.selectedRange,a={...s.disabled,...o.disabled},p={...s.today,...o.today};return{range:r,start:"starting"===i?s.active:s.inactive,end:"ending"===i?s.active:s.inactive,disabled:a,today:p}}},47082:(t,e,s)=>{s.d(e,{U:()=>y,Z:()=>D});s(67294);var o=s(83355),i=s(480),n=s(24405),r=s(53465),a=s(72126),p=s(87279),d=s(98742),l=s(34859),h=s(64113),u=s(64921),c=s(37601),g=s(74194),f=s(3386),v=s(53336),x=s(64369),m=s(85893);let y=function(t){return t[t.Select=0]="Select",t[t.Person=1]="Person",t[t.Relation=2]="Relation",t[t.FilterValue=3]="FilterValue",t[t.Share=4]="Share",t[t.Group=5]="Group",t}({});class S extends o.Z{constructor(){super(...arguments),this.storeTypes={store:h.Z},this.handleFocused=()=>{this.stores.store.setState({focused:!0})},this.handleBlurred=()=>{this.stores.store.setState({focused:!1})},this.handleContainerClick=()=>{var t,e;this.props.disabled||(this.input.focusInput(),null===(t=(e=this.props).onClick)||void 0===t||t.call(e))}}UNSAFE_willMount(){(this.props.focus||this.props.focusInitial)&&this.stores.store.setState({focused:!0})}UNSAFE_willUpdate(){void 0!==this.props.focus&&this.stores.store.setState({focused:this.props.focus})}renderComponent(){const{disabled:t}=this.props;return(0,m.jsx)(f.Z,{capture:!t,onLeft:a.yR,onRight:a.yR,onSelectAll:a.yR,onRedo:a.yR,onUndo:a.yR,onToggleBold:a.yR,onToggleItalics:a.yR,onToggleCode:a.yR,onCut:a.yR,onCopy:a.yR,onPaste:a.yR,onKeypress:a.yR,children:(0,m.jsx)(f.Z,{capture:!t&&this.props.value.length>0,onDelete:a.yR,onBackspace:a.yR,children:(0,m.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",width:"100%",gap:this.props.message?4:void 0},children:[this.renderTokenInput(),this.props.message&&(0,m.jsx)(x.Z,{isSmall:!0,children:this.props.message})]})})})}renderTokenInput(){const{right:t,showClearButton:e}=this.props;return t||e?(0,m.jsxs)(v.Z,{type:l.Z.All,style:{...this.getWrapStyle(),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,m.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,...this.props.inputAndTokenWrapRightStyle},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,m.jsx)("div",{style:{flexShrink:0},children:(0,m.jsx)(w,{showClearButton:this.props.showClearButton,right:this.props.right,onClearButtonClick:this.props.onClearButtonClick,tokens:this.props.tokens,value:this.props.value})})]}):this.environment.device.isMobile?(0,m.jsxs)("div",{style:{...this.getWrapStyle(),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,m.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,overflow:"hidden",marginRight:k(this.props.format)?6:0},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,m.jsx)(c.Z,{show:this.stores.store.state.focused})]}):(0,m.jsxs)(v.Z,{type:l.Z.All,style:{...this.getWrapStyle(),...this.props.style},onClick:this.handleContainerClick,children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]})}renderInput(){const t=0===this.props.tokens.length;return(0,m.jsx)(g.Z,{disabled:this.props.disabled,format:g.B.Transparent,...(0,d.Z)({onKeyDown:t=>function(t,e,s,o){"Backspace"===t.key&&0===e.length&&s();o&&o(t)}(t,this.props.value,this.props.onRemoveLastToken,this.props.onKeyDown)},{onChange:this.props.onChange}),value:this.props.value,focus:this.props.focus,focusInitial:this.props.focusInitial,focusAfterAnimation:this.props.focusAfterAnimation,style:(e=this.props.format,s=this.environment,o=this.theme,i=this.props.inputFullWidth,n=this.props.inputDivStyle,{flexGrow:1,flexShrink:1,flexBasis:i?"100%":60,minWidth:60,width:"auto",lineHeight:"20px",...s.device.isMobile?{margin:"0 8px 8px 0"}:b(o)[e].inputDivDesktopStyle,...n}),inputStyle:this.props.inputStyle||{height:this.environment.device.isMobile?24:k(this.props.format)?20:18},size:1,ref:t=>t&&(this.input=t),type:this.props.type,placeholder:t?this.props.placeholder:"",onSubmit:t=>function(t,e,s,o){0===e.length&&s&&s();o&&o(t)}(t,this.props.value,this.props.onEmptySubmit,this.props.onSubmit),onFocus:this.handleFocused,onBlur:this.handleBlurred,textarea:this.props.textarea,autoComplete:this.props.autoComplete});var e,s,o,i,n}getWrapStyle(){var t,e;const{focus:s,format:o}=this.props,{WindowSizeStore:i}=this.environment;return{...this.environment.device.isMobile?{...(n=this.theme,{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:`1px solid ${n.regularDividerColor}`,fontSize:16,background:n.popoverBackground}),paddingTop:14,paddingBottom:8,paddingLeft:(null===(t=this.context.menu)||void 0===t?void 0:t.menuType)!==p.og.Popup?i.getSafePaddingLeftCSS(16):16,paddingRight:(null===(e=this.context.menu)||void 0===e?void 0:e.menuType)!==p.og.Popup?i.getSafePaddingRightCSS(16):16,...this.props.dontShowBorderBottom&&{borderBottom:"none"}}:{...T(this.theme,this.props.disabled),...b(this.theme)[o].desktopWrapStyle},...this.props.showBorder&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset"},...this.props.showBorder&&this.props.focus&&{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},...!this.environment.device.isMobile&&s&&b(this.theme)[this.props.format].inputDivDesktopFocusStyle};var n}}S.displayName="TokenInputMenuItem",S.contextTypes={...p.mw,...o.w};const D=S;function k(t){return t===y.Group}function T(t,e){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",background:e?"none":t.tokenInputMenuItemBackground,cursor:"text",overflow:"hidden"}}function b(t){const e={desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 6px 6px 0",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}};return{[y.Select]:e,[y.Person]:e,[y.Relation]:e,[y.Group]:e,[y.FilterValue]:{desktopWrapStyle:{padding:"6px 6px 1px",boxShadow:t.inputBoxShadow,background:t.inputBackground,margin:"6px 8px 2px 8px",minHeight:30,fontSize:12,borderRadius:4},inputDivDesktopStyle:{margin:"0 6px 4px 0"},inputDivDesktopFocusStyle:{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"}},[y.Share]:{desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 0 0 2px",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}}}}function w(t){let{showClearButton:e,right:s,onClearButtonClick:o,tokens:a,value:p}=t;window.__c={n:"RightComponent"};const d=(0,n.Fg)(),l=(0,i.O7)(),{isMobile:h}=l.device;return s?(0,m.jsx)(m.Fragment,{children:s}):e&&(a.length>0||p.length>0)?(0,m.jsx)(u.Z,{onClick:o,style:{flexShrink:0,flexGrow:0,borderRadius:h?24:20,marginTop:2},children:(0,r.X)({width:h?16:14,height:h?16:14,fill:d.lightIconColor})}):null}},67950:(t,e,s)=>{s.d(e,{B:()=>i,Z:()=>r});var o=s(49085);const i={INVALID_DATE:"Invalid date",INVALID_RANGE:"Invalid range"};class n extends o.default{getInitialState(){return{edited:!1,temporary:"",error:void 0}}}const r=n},76150:(t,e,s)=>{s.d(e,{Hv:()=>i,ZP:()=>a,pd:()=>n});var o=s(49085);let i=function(t){return t.StartDate="startDate",t.StartTime="startTime",t.EndDate="endDate",t.EndTime="endTime",t}({}),n=function(t){return t.InvalidDate="Invalid date",t.InvalidTime="Invalid time",t.InvalidRange="Invalid range",t}({});class r extends o.default{getInitialState(){return{focus:i.StartDate,inputIsFocused:!1,inputTemporaryValue:{startDate:void 0,startTime:void 0,endDate:void 0,endTime:void 0},error:{startDate:void 0,startTime:void 0,endDate:void 0,endTime:void 0}}}}const a=r},13854:(t,e,s)=>{s.d(e,{QJ:()=>n,ZP:()=>p,yO:()=>r});var o=s(49085),i=s(76150);const n={[i.Hv.StartDate]:"starting",[i.Hv.StartTime]:"starting",[i.Hv.EndDate]:"ending",[i.Hv.EndTime]:"ending"},r={starting:i.Hv.StartDate,ending:i.Hv.EndDate};class a extends o.default{getInitialState(){return{isOpen:!1,focus:i.Hv.StartDate,temporaryDateRange:{starting:void 0,ending:void 0},displayMonth:void 0,hovered:void 0,showTime:!1}}getFocus(){return this.state.focus}toggleShowTime(){this.setState({...this.state,showTime:!this.state.showTime})}clearTemporaryDateRange(){this.setState({...this.state,temporaryDateRange:{starting:void 0,ending:void 0}})}}const p=a},41558:(t,e,s)=>{s.d(e,{Z:()=>n});var o=s(49085);class i extends o.default{getInitialState(){return{isOpen:!1,focus:"starting",temporaryDateRange:{starting:void 0,ending:void 0},displayMonth:void 0,hovered:void 0,dateFilterType:"lastEditedTime"}}getFocus(){return this.state.focus}clearTemporaryDateRange(){this.setState({...this.state,temporaryDateRange:{starting:void 0,ending:void 0}})}}const n=i}}]);
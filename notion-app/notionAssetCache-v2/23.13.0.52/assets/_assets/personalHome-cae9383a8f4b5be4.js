"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[7078],{58188:(e,t,o)=>{o.d(t,{Lg:()=>u,N:()=>c,aG:()=>d});var n=o(13493),i=o(29369),r=o(82530),s=(o(77907),o(30806)),a=o(80444),l=o(14900);o(72711);function d(e){const{environment:t,currentSpaceViewStore:o,...n}=e,i=o.getModel();if(!i)return;const a=!i.showFeatureOnPersonalHome(e.feature);r.createAndCommit({userAction:"userHomeActions.toggleHomeFeature",environment:t,perform:t=>{r.applyOperation({store:o,operation:{pointer:o.pointer,path:["settings","personal_home","enabled_features"],command:"update",args:{[e.feature]:a}},transaction:t})}}),(0,s.cY)({environment:t,show:a,...n})}function c(e){let{environment:t,option:o,from:n,userAction:i}=e;const l=a.default.state.currentSpaceViewStore;if(!l)return!1;const d=l.getOnAppStartStore().getValue();return r.createAndCommit({userAction:i,environment:t,perform:e=>{r.applyOperation({store:l,operation:{pointer:l.pointer,path:["settings","on_app_start"],command:"set",args:o},transaction:e})}}),(0,s.BX)({environment:t,oldValue:d,newValue:o,from:n}),!0}function u(e){const{environment:t,selectedStore:o,currentSpaceViewStore:a,collectionContextStore:d}=e,c=d.collectionViewStore(),u=d.collectionStore(),g=d.collectionViewBlockStore();if(!(u&&c&&g&&a))return;const p=a.getTeamsStores(),m=o.table===i.e0?p.indexOf(o)+1:0,h=o.table===i.e0?o.id:void 0;r.createAndCommit({environment:t,userAction:"PersonalHomeTrendingPanel.setCollectionViewSourceTeamId",perform:e=>{r.applyOperation({store:c,operation:{pointer:{id:c.id,table:n.n},path:["format","collection_view_source","teamId"],command:"set",args:h},transaction:e}),l.mc({environment:t,collectionViewBlockStore:g,collectionViewStore:c,collectionStore:u,collectionContextStore:d,isFullScreen:!1,isRootChild:!1,isInPeekRenderer:!1})}}),(0,s.Ay)({environment:t,teamId:h,index:m})}},87636:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(67294),i=o(13991),r=o(480),s=o(24405),a=o(22491),l=o(97880),d=o(82990),c=o(17311),u=o(23063),g=o(64921),p=o(26388),m=o(85893);function h(e){window.__c={n:"ActionMenuGroupButton"};const{button:t,isLast:o}=e,i=(0,s.yK)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:d.Z.fontWeight.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return n.cloneElement(t,{...(0,a.iv)(t.props.style,i.button,o&&i.buttonLast),hoveredStyle:(0,a.iv)(i.buttonHovered,o&&i.buttonLast).style,pressedStyle:i.buttonPressed})}const f=function(e){let{children:t,isVisible:o,position:f,style:S}=e;window.__c={n:"ActionMenuGroup"};const x=(0,r.O7)(),y=(0,s.yK)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.lightBoxShadow,display:"flex",whiteSpace:"nowrap",borderRadius:c.Z.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:x.device.isMobile?"auto":"none",opacity:x.device.isMobile?1:0,fontFamily:d.Z.getCompositeFontFamily(i.SP).sans,position:"absolute",right:c.Z.horizontal.small,bottom:c.Z.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:c.Z.vertical.small,bottom:void 0}})),[x]),v=n.Children.toArray(t).filter(l.$K),w=v.length;return(0,m.jsx)(u.Z,{isVisible:!0,animationStyle:{opacity:o?1:0},render:()=>(0,m.jsx)("div",{...(0,a.iv)(y.container,S,o&&y.containerHover,"top"===f&&y.containerTop),children:v.map(((e,t)=>{const o=t===w-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===p.ZP&&n.isValidElement(e))return n.cloneElement(e,{render:(t,n)=>{const i=e.props.render(t,n);return(0,m.jsx)(h,{isLast:o,button:i},e.key)}});if(e.type===g.Z&&n.isValidElement(e))return(0,m.jsx)(h,{isLast:o,button:e},e.key)}}))})})}},9050:(e,t,o)=>{o.d(t,{Z:()=>d});o(67294);var n=o(480),i=o(24405),r=o(8848),s=o(80025),a=o(52275),l=o(85893);const d=function(e){const{color:t}=e;return(0,l.jsx)(a.Z,{...e,icon:(0,l.jsx)(c,{color:t}),title:(0,s.Vn)(t)})};function c(e){let{color:t}=e;window.__c={n:"ColorTileComponent"};const o=(0,i.Fg)(),s=(0,n.O7)(),a=(0,r.KR)(o,t);return(0,l.jsx)("div",{style:{width:s.device.isMobile?24:18,height:s.device.isMobile?24:18,background:a.menuBackgroundColor,color:a.textColor,boxShadow:o.innerBorderBoxShadow,borderRadius:4}})}},56282:(e,t,o)=>{o.d(t,{Z:()=>k});o(67294);var n=o(73935),i=o(83355),r=o(13991),s=o(6740),a=o(49085),l=o(12137),d=o(8848),c=o(22491),u=o(72126),g=o(82990),p=o(63143),m=o(9291),h=o(24677),f=o(28651),S=o(27724);class x extends a.default{getInitialState(){return{showFadeInAnimation:!1,isRepositioning:!1}}}const y=x;var v=o(23063),w=o(6685),b=o(85893);class C extends i.Z{constructor(){super(...arguments),this.storeTypes={focusStore:a.default.createClass(!1),mouseStore:f.Z,withImageRepositioningStore:y},this.renderDraggable=()=>(0,b.jsx)(w.Z,{onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,disabled:!this.isRepositioning(),render:e=>(0,b.jsx)("div",{...(0,c.iv)(this.getDragContainerStyle()),...e,children:this.props.render({imagePosition:this.getRenderedCoverPosition(),isRepositioning:this.isRepositioning(),showFadeInAnimation:!1})})}),this.shouldBeActiveStore=this.createComputedStore((()=>0===S.default.state.stores.length)),this.handleFocus=e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,s.E)(t)&&this.stores.focusStore.setState(!0)},this.handleBlur=e=>{this.stores.focusStore.setState(!1)},this.handleMouseMove=e=>{this.mouseStore.setState({...this.mouseStore.state,mouseEntered:!0})},this.handleMouseLeave=e=>{this.mouseStore.setState({...this.mouseStore.state,mouseEntered:!1})},this.handleMouseMoveThrottled=(0,u.P2)(this.handleMouseMove,100),this.handleMouseLeaveDebounced=(0,u.Ds)(this.handleMouseLeave,100),this.handleWindowMouseDown=e=>{const t=n.findDOMNode(this);t&&!t.contains(e.target)&&this.isRepositioning()&&this.props.onFlushTemporaryPosition({imagePosition:this.getRenderedCoverPosition(),reset:()=>{this.mouseStore.reset(),this.stores.withImageRepositioningStore.reset()}})},this.handleRepositionClick=(e,t)=>{h.ZH(this.environment);const o=new Image;o.onload=()=>{this.stores.withImageRepositioningStore.setState({...this.stores.withImageRepositioningStore.state,isRepositioning:!0,image:o})},t&&(o.src=t)},this.handleCancelClick=e=>{this.stores.withImageRepositioningStore.reset()},this.handleSavePositionClick=e=>{this.props.onFlushTemporaryPosition({imagePosition:this.getRenderedCoverPosition(),reset:()=>{this.stores.withImageRepositioningStore.reset()}})},this.handleDragStart=e=>{const t=this.isRepositioning(),{image:o}=this.stores.withImageRepositioningStore.state;if(o&&t){const e=n.findDOMNode(this);if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/o.width*o.height,n=this.getRenderedCoverPosition();this.stores.withImageRepositioningStore.setState({...this.stores.withImageRepositioningStore.state,startDragImageScreenHeight:t,startDragRenderedPosition:n})}}},this.handleDragMove=e=>{if(this.isRepositioning()){const{startDragRenderedPosition:t,startDragImageScreenHeight:o}=this.stores.withImageRepositioningStore.state,n=e.diffY/(o||0)+(t||0);this.stores.withImageRepositioningStore.setState({...this.stores.withImageRepositioningStore.state,temporaryPosition:(0,u.NM)((0,l.Z)(n,0,1),4)})}},this.handleDragEnd=()=>{this.stores.withImageRepositioningStore.setState({...this.stores.withImageRepositioningStore.state,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})},this.handleDragCancel=()=>{this.stores.withImageRepositioningStore.setState({...this.stores.withImageRepositioningStore.state,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})}}didMount(){super.didMount(),window.addEventListener("mousedown",this.handleWindowMouseDown)}willUnmount(){super.willUnmount(),window.removeEventListener("mousedown",this.handleWindowMouseDown)}UNSAFE_willMountOrUpdate(){this.isRepositioning()&&!this.shouldBeActiveStore.state&&this.stores.withImageRepositioningStore.reset()}renderComponent(){const{device:e}=this.environment,{style:t}=this.props,{isMobile:o}=e,n=this.isRepositioning(),{mouseEntered:i}=this.mouseStore.state,r=this.stores.focusStore.state;return(0,b.jsxs)("div",{onFocus:this.handleFocus,onBlur:this.handleBlur,onMouseEnter:this.handleMouseMoveThrottled,onMouseMove:this.handleMouseMoveThrottled,onMouseLeave:this.handleMouseLeaveDebounced,...(0,c.iv)({position:"relative",width:"100%"},t),children:[this.renderDraggable(),this.renderDragMessage(),this.props.renderControl({handleRepositionClick:this.handleRepositionClick,handleSavePositionClick:this.handleSavePositionClick,handleCancelClick:this.handleCancelClick,isVisible:o||i||r||n,isRepositioning:n})]})}renderDragMessage(){const{isRepositioning:e}=this.stores.withImageRepositioningStore.state;if(!this.props.small)return(0,b.jsx)(v.Z,{isVisible:!0,animationStyle:{opacity:e?1:0},render:()=>(0,b.jsx)("div",{style:{background:d.ZP.blackWithAlpha(.4),borderRadius:4,color:d.ZP.white,fontSize:12,fontFamily:g.Z.getCompositeFontFamily(r.SP).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"},"aria-hidden":!e,children:(0,b.jsx)(m.FormattedMessage,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})})}isRepositioning(){return this.stores.withImageRepositioningStore.state.isRepositioning}getRenderedCoverPosition(){const{temporaryPosition:e}=this.stores.withImageRepositioningStore.state;return(0,u.hj)(e)?e:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,u.hj)(e))return e}const o=.5;if(t.isCollectionView()){const e=t.getCollectionViewCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,p.z4)(t)?o:t}}const n=t.getFormat().page_cover_position;if((0,u.hj)(n))return n;return o}(this.props.source,this.props.store)}get mouseStore(){return this.props.mouseStore||this.stores.mouseStore}getDragContainerStyle(){return{width:"100%",cursor:this.isRepositioning()?"move":"inherit"}}}C.displayName="WithImageRepositioning";const k=C},43668:(e,t,o)=>{o.d(t,{y:()=>a});var n=o(67294),i=o(62965);let r,s;const a=e=>{r=r??new Map,s=s??(e=>{let t=!1,o=[];return new ResizeObserver((n=>{o=o.concat(n),t||(t=!0,window.requestAnimationFrame((()=>{const n=new Set;[...o].reverse().filter((e=>{const t=n.has(e.target);return n.add(e.target),!t})).forEach((t=>{const o=e.get(t.target);null==o||o.forEach((e=>{const o=t.borderBoxSize[0];e({width:o.inlineSize,height:o.blockSize})}))})),o=[],t=!1})))}))})(r);const[t,o]=(0,n.useState)(void 0),a=(0,n.useCallback)((e=>{o((t=>(0,i.Z)(t,e)?t:e))}),[]);return(0,n.useLayoutEffect)((()=>{const t=e.current;if(!t)return;s.observe(t);const o=[...r.get(t)??[],a];return r.set(t,o),()=>{s.unobserve(t);const e=(r.get(t)??[]).filter((e=>e!==a));0===e.length?r.delete(t):r.set(t,e)}}),[a,e]),t}},92658:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(49085);class i extends n.default{getInitialState(){return{inputValue:"",focus:!1}}}const r=i},80025:(e,t,o)=>{o.d(t,{Vn:()=>s,mF:()=>a,qf:()=>d});var n=o(9291),i=o(33929);const r=(0,n.defineMessages)({default:{defaultMessage:"Light gray",id:"colors.select.lightGray"},gray:{defaultMessage:"Gray",id:"colors.select.gray"},translucentGray:{defaultMessage:"Gray",id:"colors.select.gray"},brown:{defaultMessage:"Brown",id:"colors.select.brown"},orange:{defaultMessage:"Orange",id:"colors.select.orange"},yellow:{defaultMessage:"Yellow",id:"colors.select.yellow"},green:{defaultMessage:"Green",id:"colors.select.green"},blue:{defaultMessage:"Blue",id:"colors.select.blue"},purple:{defaultMessage:"Purple",id:"colors.select.purple"},pink:{defaultMessage:"Pink",id:"colors.select.pink"},red:{defaultMessage:"Red",id:"colors.select.red"}});function s(e){const t=r[e]||r.gray;return i.default.formatMessage(t)}const a=(0,n.defineMessages)({foregroundColorDefault:{id:"action.foregroundColor.default.name",defaultMessage:"Default"},foregroundColorGray:{id:"action.foregroundColor.gray.name",defaultMessage:"Gray"},foregroundColorBrown:{id:"action.foregroundColor.brown.name",defaultMessage:"Brown"},foregroundColorOrange:{id:"action.foregroundColor.orange.name",defaultMessage:"Orange"},foregroundColorYellow:{id:"action.foregroundColor.yellow.name",defaultMessage:"Yellow"},foregroundColorGreen:{id:"action.foregroundColor.green.name",defaultMessage:"Green"},foregroundColorBlue:{id:"action.foregroundColor.blue.name",defaultMessage:"Blue"},foregroundColorPurple:{id:"action.foregroundColor.purple.name",defaultMessage:"Purple"},foregroundColorPink:{id:"action.foregroundColor.pink.name",defaultMessage:"Pink"},foregroundColorRed:{id:"action.foregroundColor.red.name",defaultMessage:"Red"},backgroundColorGray:{id:"action.backgroundColor.gray.name",defaultMessage:"Gray background"},backgroundColorBrown:{id:"action.backgroundColor.brown.name",defaultMessage:"Brown background"},backgroundColorOrange:{id:"action.backgroundColor.orange.name",defaultMessage:"Orange background"},backgroundColorYellow:{id:"action.backgroundColor.yellow.name",defaultMessage:"Yellow background"},backgroundColorGreen:{id:"action.backgroundColor.green.name",defaultMessage:"Green background"},backgroundColorBlue:{id:"action.backgroundColor.blue.name",defaultMessage:"Blue background"},backgroundColorPurple:{id:"action.backgroundColor.purple.name",defaultMessage:"Purple background"},backgroundColorPink:{id:"action.backgroundColor.pink.name",defaultMessage:"Pink background"},backgroundColorRed:{id:"action.backgroundColor.red.name",defaultMessage:"Red background"},backgroundColorDefault:{id:"action.backgroundColor.default.name",defaultMessage:"Default background"}}),l={default:{...a.foregroundColorDefault},gray:{...a.foregroundColorGray},brown:{...a.foregroundColorBrown},orange:{...a.foregroundColorOrange},yellow:{...a.foregroundColorYellow},teal:{...a.foregroundColorGreen},blue:{...a.foregroundColorBlue},purple:{...a.foregroundColorPurple},pink:{...a.foregroundColorPink},red:{...a.foregroundColorRed},gray_background:{...a.backgroundColorGray},brown_background:{...a.backgroundColorBrown},orange_background:{...a.backgroundColorOrange},yellow_background:{...a.backgroundColorYellow},teal_background:{...a.backgroundColorGreen},blue_background:{...a.backgroundColorBlue},purple_background:{...a.backgroundColorPurple},pink_background:{...a.backgroundColorPink},red_background:{...a.backgroundColorRed}};function d(e){return l[e]}},94660:(e,t,o)=>{o.d(t,{IJ:()=>d,PL:()=>l,W4:()=>c,gA:()=>g,p8:()=>u});var n=o(62992),i=o(97880),r=o(64002),s=o(34517),a=o(26136);function l(e,t){return e.filter((e=>{const o=e.getCopiedFromPointer();return Boolean(o&&(0,n.J)(o)&&Boolean(t&&t(o.id)))}))}const d=5;function c(e){const t=window.location.href;return r.SK(t,{tg:e.templateGalleryItem})}function u(){const e=window.location.href;let t;return t=r.iO(e,"tg"),t=r.iO(t,"np"),t=r.iO(t,"pjm"),t}function g(e){let t,o;return e instanceof a.j$?(t=e.getAppTemplateURI(),o=e.getBlockId()):"type"in e?"preset"===e.type?(t=e.uri,o=void 0):"pageTemplate"===e.type?(t=void 0,o=e.template.rootId):(0,i.t1)(e):(t=void 0,o=e.rootId),t&&s.presetUriToHumanReadableName[t]?s.presetUriToHumanReadableName[t]:o}},27068:(e,t,o)=>{o.d(t,{K_:()=>a,N8:()=>l,nJ:()=>s});var n=o(82530),i=o(37181),r=o(80444);function s(e){const{currentUserSettingsStore:t}=r.default.state;t&&n.createAndCommit({userAction:"SidebarPersonalHomeButton.markAsSeen",environment:e,perform:e=>{i.d2({userSettingsStore:t,transaction:e,data:{seen_personal_home:!0}})}})}function a(e){const{environment:t,tipType:o,completed:s}=e,{currentUserSettingsStore:a}=r.default.state;if(!a)return;const l=a.getPersonalHomeTipsSettings(),d={...l,progress_data:{...l.progress_data,[o]:{completed:s}}};n.createAndCommit({userAction:"TipsHomePanel.updateProgress",environment:t,perform:e=>{i.d2({userSettingsStore:a,transaction:e,data:{personal_home_tips_settings:d}})}})}function l(e){const{environment:t,hide:o}=e,{currentUserSettingsStore:s}=r.default.state;if(!s)return;const a={...s.getPersonalHomeTipsSettings(),hide_completed:o};n.createAndCommit({userAction:"TipsHomePanel.hideCompleted",environment:t,perform:e=>{i.d2({userSettingsStore:s,transaction:e,data:{personal_home_tips_settings:a}})}})}},55535:(e,t,o)=>{o.d(t,{W:()=>s,Z:()=>l});var n=o(67294),i=o(51077),r=o(85893);const s=16;function a(e){let{icon:t,style:o,size:n=s}=e;return(0,r.jsx)(i.Z,{type:"notion_icon",size:n,icon:`/icons/${t}_lightgray.svg`,largeIcon:!0,style:o})}const l=n.memo(a)},84198:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(67294),i=o(480),r=o(86628),s=o(24405),a=o(82990),l=o(75024),d=o(50334),c=o(94841),u=o(49085);class g extends u.default{getInitialState(){return!1}}var p=o(22863),m=o(55535),h=o(85893);const f=function(e){let{children:t,title:o,icon:u,panelStyle:f,headerStyle:S,rightStyle:x,actions:y,right:v,disableRightFadeIn:w}=e;window.__c={n:"PersonalHomePanelPreview"};const b=(0,i.MO)(),C=(0,i.O7)(),k=Boolean(v),j=(0,r.qz)(void 0,g),M=(0,n.useMemo)((()=>({isHoveredOnPanelStore:j})),[j]),P=(0,n.useCallback)((()=>j.setState(!0)),[j]),I=(0,n.useCallback)((()=>j.setState(!1)),[j]),_=(0,s.yK)((e=>({panel:{zIndex:1,position:"relative",display:"flex",flexDirection:"column",borderRadius:b?12:6,padding:c.A5,paddingBottom:20,background:e.home.tile.background,boxShadow:(0,c._U)({isPhone:b,theme:e}),...c.MI,...f},headerContainer:{flexShrink:0,display:"flex",justifyContent:"space-between",alignItems:"center",height:c.jX,marginTop:-c.A5,...S},panelTitleAndIcon:{display:"flex",alignItems:"center",fontSize:(0,l.yv)(C,"UISmall"),fontWeight:a.Z.fontWeight.medium,color:e.text.secondary,flexShrink:0,maxWidth:k?200:"100%"},title:{...a.Z.textOverflowStyle},panelIconContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:m.W,height:m.W,marginRight:8,marginTop:1},actions:{display:"flex",flexDirection:"row",paddingLeft:6}})),[b,f,S,C,k]);return(0,h.jsx)(d.L8,{value:M,children:(0,h.jsxs)("div",{style:_.panel,onMouseEnter:P,onMouseLeave:I,children:[(0,h.jsxs)("div",{style:_.headerContainer,children:[(0,h.jsxs)("div",{style:_.panelTitleAndIcon,children:[(0,h.jsx)("div",{style:_.panelIconContainer,children:u}),(0,h.jsx)("span",{style:_.title,children:o}),(0,h.jsx)(p.Z,{additionalStyles:_.actions,children:y})]}),k&&(0,h.jsx)(p.Z,{force:w?"forceShow":void 0,additionalStyles:x,children:v})]}),t]})})}},22863:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(67294),i=o(24405),r=o(97880),s=o(86628),a=o(50334);var l=o(85893);const d=function(e){let{additionalStyles:t,transitionMs:o,force:d,children:c}=e;window.__c={n:"FadeInOnPanelHoverWrapper"};const u=function(){var e;const t=null===(e=(0,n.useContext)(a.uU))||void 0===e?void 0:e.isHoveredOnPanelStore;return(0,s.VK)((()=>Boolean(null==t?void 0:t.getState())),[t])}(),g=(0,i.yK)((()=>{let e;switch(d){case"forceShow":e=1;break;case"forceHide":e=0;break;case void 0:e=u?1:0;break;default:(0,r.t1)(d)}return{hoverStyle:{opacity:e,transition:`opacity ${(0,r.$K)(o)?o:200}ms ease-in`,...t}}}),[t,d,u,o]);return(0,l.jsx)("div",{style:g.hoverStyle,children:c})}},50334:(e,t,o)=>{o.d(t,{L8:()=>r,uU:()=>i});const n=(0,o(67381).Q)({displayName:"HomePanelContext",legacyContextKey:"homePanelContext",modernContextDefaultValue:{isHoveredOnPanelStore:void 0}}),i=n.context,r=n.Provider;n.legacyPropTypes},9091:(e,t,o)=>{o.r(t),o.d(t,{PersonalHomeContainer:()=>ko});var n=o(67294),i=o(480),r=o(86628),s=o(24405),a=o(49902),l=o(53336),d=o(14542),c=o(96809),u=o(12981),g=o(68785),p=o(32854),m=o(81865),h=o(85893);function f(e){window.__c={n:"FullPageCover"};const t=(0,i.O7)(),o=(0,i.Fy)().isMobile,[a,l]=(0,n.useState)(),f=(0,r.VK)((()=>e.store.getCover()),[e.store]),S=(0,r.VK)((()=>c.Z),[]),x=(0,r.VK)((()=>S.state.loadingMode!==d.LU&&S.state.loadingMode!==d.SS),[S]),y=(0,r.VK)((()=>"uploading"===S.state.loadingMode&&S.state.uploadProgress||0),[S]),v=(0,r.VK)((()=>t.WindowSizeStore.state.paddingTop),[t.WindowSizeStore]),w=(0,s.yK)((e=>({background:{position:"absolute",width:"100%",height:"100%",marginTop:o?v:void 0,top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundImage:`url(${a}`,backgroundAttachment:"fixed",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},loadingContainer:{...u.I,top:8,right:8,height:28},loadingSpinner:{width:16,height:16,marginRight:4},percentageIndicator:{minWidth:30,textAlign:"right"}})),[a,o,v]);return f?(0,h.jsx)(m.Z,{url:f.cover,isAuthenticated:!0,permissionRecord:f.pointer,render:(e,t)=>(l(t),(0,h.jsx)("div",{role:"img",style:w.background,onLoad:()=>{S.setState({loadingMode:"loaded"})},children:x&&(0,h.jsxs)("div",{style:w.loadingContainer,children:[(0,h.jsx)(g.Z,{style:w.loadingSpinner}),(0,h.jsx)("div",{style:w.percentageIndicator,children:(0,h.jsx)(p.Z,{percentage:y})})]})}))}):null}var S=o(61679),x=o(34859),y=o(80444),v=o(94841),w=o(30120),b=o(8848),C=o(70203),k=o(97880),j=o(82990),M=o(9291),P=o(69150),I=o(89728),_=o(26388),T=o(60682),Z=o(14976),H=o(9953),R=o(98104),V=o(82530),A=o(49085);class B extends A.default{getInitialState(){return{open:!1}}}const K=new B;function D(e){let{environment:t}=e;K.reset(),R.ZH(t)}var F=o(78140),L=o(53437),O=o(64369),E=o(65187),N=o(87279),G=o(75024);function U(e){let{origin:t}=e;window.__c={n:"PersonalHomeRenamePopup"};const o=(0,i.O7)(),n=(0,r.VK)((()=>K.state.open),[]),s=(0,r.VK)((()=>y.default.state.currentUserSettingsStore),[]),a=(0,i.MO)();return s?(0,h.jsx)(L.ZP,{popupType:a?L.ZP.PopupType.SlideUp:L.ZP.PopupType.Popup,open:n,origin:t,placementToOrigin:L.ZP.Placement.Bottom,alignmentToOrigin:L.ZP.Alignment.Center,originGap:4,onDismiss:()=>D({environment:o}),render:()=>(0,h.jsx)(W,{userSettingsStore:s})}):null}function W(e){let{userSettingsStore:t}=e;window.__c={n:"PersonalHomeRenameMenu"};const[o,a]=(0,n.useState)(!1),l=(0,i.O7)(),d=(0,M.useIntl)(),c=(0,r.VK)((()=>{var e;return null===(e=y.default.state.currentUserStore)||void 0===e?void 0:e.getDisplayName(d)}),[d]),u=(0,i.MO)(),g=(0,n.useCallback)((()=>a(!0)),[]),p=(0,n.useCallback)((()=>a(!1)),[]),m=(0,n.useCallback)((()=>D({environment:l})),[l]),f=(0,n.useCallback)((()=>function(e){let{environment:t}=e;const o=K.state;if(!o.open)return;const n=o.originalNickname;D({environment:t});const{currentUserSettingsStore:i}=y.default.state;if(!i)return;const r=i.getNicknameStore();V.createAndCommit({environment:t,userAction:"nicknameMenuActions.revertToOldNickname",perform:e=>{H.sO({store:r,value:n,transaction:e})}})}({environment:l})),[l]),S=(0,s.yK)((e=>({menu:{width:300},menuContainer:{paddingTop:12,paddingBottom:12,paddingLeft:14,paddingRight:14},inputContainer:{display:"flex",alignItems:"center",color:e.regularTextColor,fontSize:(0,G.yv)(l,"UIRegular")},input:{display:"block",flexGrow:1,fontSize:14,lineHeight:"20px",width:"100%",borderRadius:4,boxShadow:o?e.outlineBlueInputBoxShadow:e.inputBoxShadow,background:e.inputBackground,cursor:"text",position:"relative",marginTop:8,paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10}})),[l,o]),x=(0,r.VK)((()=>t.getSettingsStore().getKeyStore("nickname")),[t]);let v;return v=u?{menuType:N.og.ActionSheet}:{menuType:N.og.Popup,width:300},(0,h.jsx)(F.Z,{...v,children:(0,h.jsxs)("div",{style:S.menuContainer,children:[(0,h.jsx)(O.Z,{isSecondaryColor:!0,children:(0,h.jsx)(M.FormattedMessage,{id:"personalHomeRenamePopup.title",defaultMessage:"Edit nickname"})}),(0,h.jsx)("div",{style:S.inputContainer,children:(0,h.jsx)(E.Z,{style:S.input,store:x,disabled:!1,onEsc:f,onFocus:g,onBlur:p,onEnter:m,placeholder:c,pasteBehavior:"inline",disableEmojiCommands:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableSlashCommands:!0,disableComment:!0,disableDateMentions:!0,disableMentions:!0,disableDateReminderMentions:!0,disableDrag:!0,disableEmbedMenu:!0,disableEquationInteraction:!0,disableMobileActionBar:!0,disableShiftEnter:!0,disableTemplateVariableMentions:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0})})]})})}const z=n.memo(U);function Y(e){var t;let{nickname:o}=e;window.__c={n:"PersonalHomeRenameButton"};const a=(0,i.O7)(),l=(0,s.Fg)(),d=n.useRef(null),c=n.useRef();c.current=null===(t=d.current)||void 0===t?void 0:t.getBoundingClientRect();const u=(0,r.VK)((()=>K.state.open),[]),g=(0,r.VK)((()=>{var e;return null===(e=y.default.state.currentUserSettingsStore)||void 0===e?void 0:e.getNicknameStore()}),[]),p=(0,r.VK)((()=>{var e;const t=y.default.state.currentUserSettingsStore,n=null===(e=y.default.state.currentSpaceStore)||void 0===e?void 0:e.id;if(t&&n)return(0,Z.IY)({environment:a,textValue:o&&n?{value:o,spaceId:n}:void 0,parentStore:t,disableLinks:!0,disableHover:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableDateStyleAnnotations:!1,disabled:!0,theme:l,emojiType:(0,T.e_)(a),katex:void 0,formulaValueTypes:[],stopLinkPropagation:!0})}),[a,o,l]),m=(0,n.useMemo)((()=>({height:"100%",flexShrink:1,fontSize:"inherit",fontWeight:"inherit",display:"flow",paddingTop:2,paddingBottom:2,marginLeft:-6,marginRight:-6,marginTop:-2,marginBottom:2,paddingLeft:6,paddingRight:6,...j.Z.textOverflowStyle,color:void 0,lineHeight:void 0})),[]),f=(0,s.yK)((()=>({hiddenButton:{...m,width:0,overflow:void 0,pointerEvents:"none",color:"transparent",marginLeft:0,marginRight:0,paddingLeft:0,paddingRight:0},visibleButton:{...m,textShadow:"none"}})),[m]);return g?(0,h.jsx)(z,{origin:(0,h.jsx)(_.ZP,{originRect:c.current,render:e=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(I.Z,{hovered:!1,style:f.hiddenButton,children:p}),(0,h.jsx)(I.Z,{...e,ref:d,hovered:u,style:f.visibleButton,onClick:()=>function(e){let{originalNicknameStore:t}=e;R.Z5({store:t,selection:{startIndex:0,endIndex:(0,C.eeV)(t.getValue()).length}}),K.setState({open:!0,originalNickname:t.getValue()})}({originalNicknameStore:g}),onMouseEnter:t=>{var o;null===(o=e.onMouseEnter)||void 0===o||o.call(e,t),P.Z.setState({isHovered:!1})},children:p})]}),renderTooltip:()=>(0,h.jsx)(M.FormattedMessage,{id:"personalHomeHeader.changeNameTooltip",defaultMessage:"Edit nickname"})})}):null}const $=n.memo(Y);function J(e){let{layoutGapSize:t}=e;window.__c={n:"PersonalHomeHeader"};const o=(0,M.useIntl)(),n=(0,i.MO)(),{name:a,loaded:l}=(0,r.VK)((()=>function(e){let{currentUserStore:t,currentUserSettingsStore:o,intl:n}=e;if(null==o||!o.isReady())return{name:void 0,loaded:!1};const i=o.getNickname();if(i&&q(i))return{name:i,loaded:!0};const r=null==t?void 0:t.getDisplayName(n),s=Boolean(null==t?void 0:t.isReady());return{name:r?[[r]]:void 0,loaded:s}}({currentUserStore:y.default.state.currentUserStore,currentUserSettingsStore:y.default.state.currentUserSettingsStore,intl:o})),[o]),d=(0,r.VK)((()=>{var e;return(null===(e=y.default.state.currentSpaceStore)||void 0===e?void 0:e.isReady())??!1}),[]),c=(0,r.VK)((()=>{const e=y.default.state.currentSpaceViewStore;return e&&(0,v.Al)(e)}),[]),u=(0,r.VK)((()=>Boolean(null==c?void 0:c.hasCover())),[c]),g=l&&d,p=function(){const e=w.ou.now().hour;return e>=19||e<2?"evening":e<12?"morning":"afternoon"}(),m=function(e){let{timeOfDay:t,name:o}=e;if("morning"===t)return o?(0,h.jsx)(M.FormattedMessage,{id:"personalHomeHeader.goodMorningUserName",defaultMessage:"<NoShrink>Good morning,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,h.jsx)(h.Fragment,{children:" "}),NoShrink:e=>(0,h.jsx)("span",{style:{flexShrink:0},children:e}),userName:o}}):(0,h.jsx)(M.FormattedMessage,{id:"personalHomeHeader.goodMorningNoUserName",defaultMessage:"Good morning"});if("afternoon"===t)return o?(0,h.jsx)(M.FormattedMessage,{id:"personalHomeHeader.goodAfternoonUserName",defaultMessage:"<NoShrink>Good afternoon,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,h.jsx)(h.Fragment,{children:" "}),NoShrink:e=>(0,h.jsx)("span",{style:{flexShrink:0},children:e}),userName:o}}):(0,h.jsx)(M.FormattedMessage,{id:"personalHomeHeader.goodAfternoonNoUserName",defaultMessage:"Good afternoon"});if("evening"===t)return o?(0,h.jsx)(M.FormattedMessage,{id:"personalHomeHeader.goodEveningUserName",defaultMessage:"<NoShrink>Good evening,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,h.jsx)(h.Fragment,{children:" "}),NoShrink:e=>(0,h.jsx)("span",{style:{flexShrink:0},children:e}),userName:o}}):(0,h.jsx)(M.FormattedMessage,{id:"personalHomeHeader.goodEveningNoUserName",defaultMessage:"Good evening"});(0,k.t1)(t)}({timeOfDay:p,name:q(a)?(0,h.jsx)($,{nickname:a}):void 0}),f=function(e){switch(e){case"morning":case"afternoon":return"🌤️";case"evening":return"🌓";default:(0,k.t1)(e)}}(p),S=(0,s.yK)((e=>({container:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",opacity:g?1:0,transition:"opacity 0.3s 0.5s"},headerTextContainer:{width:"100%",height:"100%",marginTop:64,zIndex:1,paddingLeft:2*t,paddingRight:2*t,pointerEvents:"none"},headerText:{width:"100%",height:"100%",fontSize:n?24:30,lineHeight:1.2,fontWeight:j.Z.fontWeight.semibold,color:u?b.ZP.white:e.regularTextColor,textShadow:u?"0px 1px 24px rgba(0, 0, 0, 0.33)":"",display:"flex",alignItems:"center",justifyContent:n?"start":"center"},headerTextSpan:{display:"flex",pointerEvents:"all",maxWidth:"100%"},mobileGreetingContainer:{display:"flex",flexDirection:"column",textShadow:u?"0px 1px 24px rgba(0, 0, 0, 0.33)":""},mobileIconContainer:{fontSize:30}})),[g,u,n,t]),x=(0,h.jsx)("div",{style:S.headerText,children:(0,h.jsxs)("span",{style:S.headerTextSpan,children:[f," ",m]})}),C=(0,h.jsxs)("div",{style:S.mobileGreetingContainer,children:[(0,h.jsx)("div",{style:S.mobileIconContainer,children:f}),(0,h.jsx)("div",{style:S.headerText,children:(0,h.jsx)("span",{style:S.headerTextSpan,children:m})})]});return(0,h.jsx)("div",{style:S.container,onMouseEnter:()=>{P.Z.setState({isHovered:!0})},onMouseLeave:()=>{P.Z.setState({isHovered:!1})},children:(0,h.jsx)("div",{style:S.headerTextContainer,children:n?C:x})})}function q(e){return!!(0,k.$K)(e)&&0!==(0,C.eeV)(e).length}const Q=n.memo(J);var X=o(51560),ee=o(15145),te=o(41892),oe=o(60310),ne=o(47453),ie=o(50906),re=o(49865),se=o(58188),ae=o(26999),le=o(53223),de=o(64921),ce=o(51077),ue=o(75079),ge=o(34583),pe=o(14063),me=o(45589);function he(e){let{store:t,style:o,scrollContainerStyle:n,collectionContextStore:i,emptyState:a,...d}=e;window.__c={n:"PersonalHomeCollectionView"};const c=(0,r.qz)(void 0,me.Z),u=(0,r.VK)((()=>0===(null==c?void 0:c.state.scrollTop)),[c]),g=(0,s.yK)((()=>{const e=-v.A5/2;return{container:{position:"relative",display:"flex",flexDirection:"column",width:`calc(100% + ${-e})`,height:"100%",overflow:"hidden",marginTop:-pe.vt,marginLeft:e,paddingBottom:0,...o},scrollerFadeStyle:{paddingRight:8,...u?{}:{maskImage:v.Wx,WebkitMaskImage:v.Wx}}}}),[u,o]);return(0,r.VK)((()=>null==i?void 0:i.isEmptyStore.state),[i])&&a?(0,h.jsx)(h.Fragment,{children:a}):(0,h.jsx)("div",{style:g.container,children:t&&(0,h.jsx)(l.Z,{type:x.Z.Y,style:g.scrollerFadeStyle,store:c,children:(0,h.jsx)(Se,{store:t,...d})})})}function fe(e){let{store:t,...o}=e;return(0,h.jsx)(le.DZ,{store:t,disabled:!1,hideHeader:!0,isFullScreen:!1,hideHeaderActions:!0,overrideViewType:"list",...o})}const Se=n.memo(fe),xe=n.memo(he);var ye=o(58810),ve=o(75754),we=o(73063),be=o(33929);function Ce(e){let{viewAllBlockStore:t,pageVisitSource:o,onClick:r,renderAsIcon:a,...l}=e;window.__c={n:"HomeViewAllButton"};const d=(0,i.O7)(),c=(0,s.yK)((e=>({viewAllButton:{color:e.mediumTextColor}})),[]),u=(0,n.useCallback)((e=>{e.metaKey||e.ctrlKey?ve._({environment:d,store:t,pageVisitSource:o,openInNew:"tab"}):ve._({environment:d,store:t,pageVisitSource:o}),null==r||r()}),[d,r,o,t]),g=(0,M.defineMessages)({viewAllLabel:{id:"personalHomePanelPreview.viewAllButton",defaultMessage:"View all"}}),p=be.default.formatMessage(g.viewAllLabel);return a?(0,h.jsx)(we.Z,{ariaLabel:p,onClick:u,icon:ye.Z,iconStyle:{width:16},...l}):(0,h.jsx)(I.Z,{onClick:u,style:c.viewAllButton,...l,children:p})}const ke=n.memo(Ce);var je=o(56666),Me=o(44643),Pe=o(52275),Ie=o(31945),_e=o(32163),Te=o(72495);function Ze(e){let{actions:t}=e;window.__c={n:"PersonalHomeMoreMenu"};const o=(0,M.useIntl)(),i=(0,s.yK)((e=>({buttonStyle:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,height:24,width:24},threeDotIcon:{width:12,height:12,fill:e.mediumIconColor},hideButtonIcon:{height:20,width:20,fill:e.regularIconColor}})),[]),r=(0,n.useMemo)((()=>{const e={};return t.forEach((t=>{"custom"===t.type&&(e[t.item.key]=t.closeOnAccept)})),e}),[t]),a=o.formatMessage({defaultMessage:"View options",id:"PersonalHomePanel.moreDropdownButton.tooltip"}),l=[{key:"all",render:e=>(0,h.jsx)(Te.Z,{...e}),items:t.map((e=>{switch(e.type){case"hide":return{key:"hide",render:e=>(0,h.jsx)(Pe.Z,{...e,icon:(0,Me.L)(i.hideButtonIcon),title:(0,h.jsx)(M.FormattedMessage,{id:"PersonalHomePanel.moreDropdown.hide.title",defaultMessage:"Hide from home"})}),action:e.hide};case"custom":return e.item;default:(0,k.t1)(e)}}))}];return(0,h.jsx)(Ie.ZP,{popupType:Ie.Z4.Popup,alignmentToOrigin:Ie.vR.Center,originGap:2,renderOrigin:e=>(0,h.jsx)(de.Z,{ariaLabel:a,style:i.buttonStyle,mobileFeedback:!1,...e,children:(0,je.o)(i.threeDotIcon)}),render:e=>(0,h.jsx)(F.Z,{menuType:N.og.Popup,children:(0,h.jsx)(_e.Z,{onAccept:t=>((e,t)=>{r[e.key]&&t.close()})(t,e),type:_e.i.Vertical,sections:l,initialFocus:void 0})})})}const He=n.memo(Ze);var Re=o(84198);function Ve(e){window.__c={n:"AddTaskButton"};const{intl:t,collectionContextStore:o}=e,a=(0,i.O7)(),l=(0,s.yK)((e=>({buttonStyle:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,height:24,width:24},plusIcon:{width:14,height:14,fill:e.mediumIconColor}})),[]),d=(0,r.VK)((()=>{if(!o)return!0;const e=o.collectionStoresStore.state;return!e||0===e.length}),[o]),c=(0,n.useCallback)((()=>{o&&(0,ge.M_)(a)&&V.createAndCommit({userAction:"AssignedToMePanel.handleAddItemClick",environment:a,perform:e=>{const t=re.IW({environment:a,collectionContextStore:o,groupsPointer:[],insertAtIndex:0,shouldCoerce:!0,initializeDefaultTemplate:!0,transaction:e,from:"home_tile_tasks"});if(!t)return;ae.CH({environment:a,store:t.newStore,peekMode:"center_peek",showMoveTo:!0,resultsStore:void 0,collectionContextStore:o,pageVisitSource:ee.tY.PersonalHomeTileTasksCreate});const n=t.newStore.getParentCollectionId();ie.W2j(a,{from:"home_tile_tasks",type:"page",collection_id:n,new_page_id:t.newStore.id,creating_block_id:t.newStore.id,...ue.Pn(o,n)})}})}),[o,a]);if(!o)return null;const u=t.formatMessage({defaultMessage:"New task",id:"AssignedToMeHomePanel.addNewTask.tooltip"});return d?null:(0,h.jsx)(_.ZP,{textWrap:!1,renderTooltip:()=>u,placement:_.ug.Top,render:e=>(0,h.jsx)(de.Z,{...e,ariaLabel:u,style:l.buttonStyle,mobileFeedback:!1,onClick:c,children:(0,ne.R)(l.plusIcon)})})}const Ae=function(){window.__c={n:"AssignedToMeHomePanel"};const e=(0,M.useIntl)(),t=(0,i.O7)(),o=(0,s.yK)((e=>({panel:{paddingRight:0,paddingBottom:0,height:v.Uf}})),[]),[a,l]=n.useState(null),d=(0,r.VK)((()=>{const e=(0,v.J2)("myTasks");if(null!=e&&e.isCollectionView())return e}),[]),c=(0,r.VK)((()=>y.default.state.currentSpaceViewStore),[]),u=(0,n.useCallback)((()=>{c&&se.aG({environment:t,currentSpaceViewStore:c,feature:"tasks",from:"tasks_more_menu"})}),[c,t]);return(0,h.jsx)(Re.Z,{title:e.formatMessage(oe.CN.myTasks),actions:[a?(0,h.jsx)(le.kE,{collectionContextStore:a,hideTooltip:!0},"collectionSettings"):(0,h.jsx)(He,{actions:[{type:"hide",hide:u}]},"more"),(0,h.jsx)(Ve,{intl:e,collectionContextStore:a},"add")],right:d&&(0,h.jsx)("span",{style:{paddingRight:8},children:(0,h.jsx)(_.ZP,{render:e=>(0,h.jsx)(ke,{...e,renderAsIcon:!0,viewAllBlockStore:d,pageVisitSource:ee.tY.PersonalHomeTileTasks}),renderTooltip:()=>(0,h.jsx)(M.FormattedMessage,{id:"AssignedTomeHomePanel.viewAllButton.tooltip",defaultMessage:"View all tasks"})})}),icon:(0,h.jsx)(ce.Z,{type:"app_package_asset",size:18,icon:te.Z.images.appPackages.taskDbIconSvg}),panelStyle:o.panel,children:(0,h.jsx)(xe,{store:d,isFirstItem:!0,isLastItem:!0,overridePaddingLeft:0,overridePaddingRight:0,setCollectionContextStore:e=>l(e)})})};var Be=o(42853),Ke=o(74207),De=o(14871),Fe=o(65598),Le=o(74016),Oe=o(11059);function Ee(e){let{message:t,emoji:o}=e;window.__c={n:"PersonalHomePanelEmptyState"};const n=(0,s.yK)((()=>({container:{display:"flex",flexGrow:1,justifyContent:"center",alignItems:"center",flexDirection:"column",gap:12}})),[]);return(0,h.jsxs)("div",{style:n.container,children:[(0,h.jsx)(Oe.Z,{char:o,size:30}),(0,h.jsx)(O.Z,{isSecondaryColor:!0,children:t})]})}function Ne(e){let{panelStyle:t}=e;window.__c={n:"PersonalHomeTrendingPanel"};const[o,i]=n.useState(void 0),a=(0,r.VK)((()=>{const{currentSpaceStore:e,currentUserStore:t}=y.default.state;if(!e||!t)return;const o=(0,v.J2)("trending");return null!=o&&o.isCollectionView()?o:void 0}),[]),l=(0,s.yK)((e=>({icon:{width:20,height:20,margin:-2,fill:e.mediumIconColor},rightStyle:{overflow:"hidden",marginRight:8}})),[]);return(0,h.jsx)(Re.Z,{title:(0,h.jsx)(M.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelTitle.trending",defaultMessage:"Trending"}),right:o&&(0,h.jsx)(Ge,{collectionContextStore:o}),rightStyle:l.rightStyle,disableRightFadeIn:!0,icon:(0,Ke.X)(l.icon),panelStyle:{...t,paddingBottom:0},children:(0,h.jsx)(xe,{store:a,collectionContextStore:o,setCollectionContextStore:i,emptyState:(0,h.jsx)(ze,{})})})}function Ge(e){let{collectionContextStore:t}=e;window.__c={n:"TrendingTargetSelector"};const o=(0,i.O7)(),{currentSpaceViewStore:s,currentSpaceStore:a}=(0,r.VK)((()=>{const{currentSpaceViewStore:e,currentSpaceStore:t}=y.default.state;return{currentSpaceViewStore:e,currentSpaceStore:t}}),[]),l=(0,r.VK)((()=>(null==s?void 0:s.getTeamsStores())??[]),[s]),d=(0,r.VK)((()=>t.collectionViewStore()),[t]),c=(0,r.VK)((()=>{if(!a)return;const e=null==d?void 0:d.getCollectionSource();if("trending"!==(null==e?void 0:e.type))return;const t=e.teamId;return t?l.find((e=>e.id===t)):a}),[l,a,d]),u=(0,n.useCallback)((e=>{se.Lg({environment:o,currentSpaceViewStore:s,selectedStore:e,collectionContextStore:t})}),[o,t,s]),g=(0,r.VK)((()=>{if(!a)return{};const e={};return e[a.id]=null==a?void 0:a.getName(),l.forEach((t=>{e[t.id]=t.getName()})),e}),[a,l]);return s&&a&&c?(0,h.jsx)(De.Z,{items:[a,...l],getKey:e=>e.id,selectedItem:c,onSelect:u,renderItem:e=>{const t=e.value;return(0,h.jsx)(Pe.Z,{...e,title:g[t.id],icon:(0,h.jsx)(Le.p,{store:t,size:16,disabled:!0})})},renderOrigin:e=>(0,h.jsx)(Ue,{...e,selectedStore:c}),width:300}):null}function Ue(e){window.__c={n:"TrendingDropdownMenuItem"};const t=(0,i.O7)(),{device:o}=t,{selectedStore:n,...r}=e,a=(0,s.yK)((e=>({dropdownButton:{width:"100%",borderRadius:3,padding:"6px 8px",color:e.text.secondary,fontSize:(0,G.yv)(t,"UISmall"),display:"inline-flex",justifyContent:"end",alignItems:"center"},dropdownIcon:{width:10,marginLeft:4,fill:e.lightIconColor},dropdownText:{display:"inline-flex",alignItems:"center",fontWeight:j.Z.fontWeight.medium,overflow:"hidden"}})),[t]);return(0,h.jsxs)(de.Z,{mobileFeedback:o.isMobile,style:a.dropdownButton,...r,children:[(0,h.jsx)("div",{style:a.dropdownText,children:(0,h.jsx)(We,{selectedStore:n})}),(0,Be.i)(a.dropdownIcon)]})}function We(e){let{selectedStore:t}=e;window.__c={n:"SelectorTitle"};const o=(0,r.VK)((()=>null==t?void 0:t.getName()),[t]),n=(0,s.yK)((()=>({icon:{marginLeft:4,marginRight:4},spaceOrTeamName:{...j.Z.textOverflowStyle}})),[]),i=(0,h.jsx)(Le.p,{store:t,size:16,disabled:!0,style:n.icon});return o?(0,h.jsx)(M.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withWorkspaceOrTeamName",defaultMessage:"In {spaceOrTeamIcon} {spaceOrTeamName}",values:{spaceOrTeamIcon:i,spaceOrTeamName:(0,h.jsx)("div",{style:n.spaceOrTeamName,children:o})}}):(0,Fe.Y)(t)?(0,h.jsx)(M.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withoutTeamName",defaultMessage:"In your teamspace"}):(0,h.jsx)(M.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withoutWorkspaceName",defaultMessage:"In your workspace"})}function ze(){return(0,h.jsx)(Ee,{emoji:"📈",message:(0,h.jsx)(M.FormattedMessage,{id:"PersonalHomeTrendingPanel.emptyState.message",defaultMessage:"Popular pages will show up here."})})}const Ye=n.memo(Ne);var $e=o(54497),Je=o(10912),qe=o(31278),Qe=o(76798),Xe=o(84210),et=o(15447),tt=o(88923),ot=o(36596),nt=o(84076);const it=function(e){let{children:t,style:o,innerStyle:i,hoveredStyle:r,pressedStyle:a,disabled:l,...d}=e;window.__c={n:"HomeGalleryItem"};const[c,u]=(0,n.useState)(!1),g=(0,s.yK)((e=>({container:{position:"relative"},linkBoxContainer:{flexShrink:0,overflow:"hidden",borderRadius:8,background:e.home.cards.background.base,...o,boxShadow:"unset"},inner:{userSelect:"none",WebkitUserSelect:"none",display:"flex",flexDirection:"column",...i},hovered:{background:e.home.cards.background.hovered,...r,boxShadow:"unset"},pressed:{background:e.home.cards.background.pressed,...a,boxShadow:"unset"},shadowBox:{pointerEvents:"none",position:"absolute",borderRadius:8,top:0,left:0,right:0,bottom:0,zIndex:1,boxShadow:c?(null==r?void 0:r.boxShadow)??e.homeShadow.card.hovered:(null==o?void 0:o.boxShadow)??e.homeShadow.card.base}})),[r,i,c,a,o]);return(0,h.jsxs)("div",{style:g.container,onMouseEnter:()=>{!l&&u(!0)},onMouseLeave:()=>{!l&&u(!1)},children:[(0,h.jsx)(nt.Z,{style:g.linkBoxContainer,innerStyle:g.inner,hoveredStyle:g.hovered,pressedStyle:g.pressed,disabled:l,...d,children:t}),(0,h.jsx)("div",{style:g.shadowBox})]})};function rt(e){let{showLoadingShimmer:t,width:o,height:n}=e;window.__c={n:"EmptyGalleryItemCard"};const i=(0,s.yK)((e=>({item:{width:o,height:n,background:t?"unset":e.home.cards.coverPhoto.base,boxShadow:"unset"},loadingShimmer:{width:"100%",height:"100%"}})),[n,t,o]);return(0,h.jsx)(it,{style:i.item,disabled:!0,children:t&&(0,h.jsx)(ot.Z,{style:i.loadingShimmer})})}const st=n.memo(rt);var at=o(43668),lt=o(74691),dt=o.n(lt);function ct(e){let{panDirection:t,cardWidth:o,gapSize:n,startAndEndPadding:i,maxScrollDistPx:r,scrollerStore:s}=e;const a=i-n,{scrollLeft:l,clientWidth:d,scrollWidth:c}=s.state,u=o+n,g=u-l%u+a,p=("left"===t?u-g:g)%u;return function(e){let{newScrollLeft:t,scrollWidth:o,extraGapAtStartAndEndPx:n}=e,i=t;i<=n?i=0:i>=o-n&&(i=o);return dt()(i,0,o)}({newScrollLeft:l+("left"===t?-1:1)*(Math.max(1,Math.floor(Math.min(r,d-p)/u))*u+p),scrollWidth:c,extraGapAtStartAndEndPx:a})}var ut=o(2585),gt=o(5257),pt=o(22863);function mt(e){let{onClick:t,type:o,scrollerStore:i}=e;window.__c={n:"GalleryScrollButton"};const[a,l]=(0,n.useState)(!1),d=(0,r.VK)((()=>{const{scrollLeft:e,scrollWidth:t,clientWidth:n}=i.state;return"left"===o?0===e:"right"===o?e+n>=t:void(0,k.t1)(o)}),[i,o]),c=(0,s.yK)((e=>({container:{borderRadius:"100%",width:32,height:32,boxShadow:e.homeScrollButtonShadow,background:e.home.scrollButtonBackground.base,position:"absolute",..."left"===o?{left:-16}:{right:-16},top:"calc(50% - 16px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1},pressedStyle:{background:e.home.scrollButtonBackground.pressed},icon:{fill:a?e.regularIconColor:e.mediumIconColor,width:13,height:13}})),[a,o]);return(0,h.jsx)(pt.Z,{force:d?"forceHide":void 0,transitionMs:100,children:(0,h.jsx)(I.Z,{style:c.container,onClick:t,hoveredStyle:c.container,pressedStyle:c.pressedStyle,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:"left"===o?(0,ut.f)(c.icon):(0,gt.o)(c.icon)})})}const ht=n.memo(mt);function ft(e){window.__c={n:"HomeTileGallery"};const t=(0,i.MO)(),o=(0,n.useRef)(null),a=(0,n.useRef)(null),d=(0,at.y)(a);(0,n.useEffect)((()=>{var t,n;(null===(t=o.current)||void 0===t||t.measureSize(),void 0!==e.scrollPosition)&&(null===(n=o.current)||void 0===n||n.scrollTo(void 0,e.scrollPosition,{animate:!1}))}),[null==d?void 0:d.width,e.scrollPosition]);const c=(0,r.qz)(void 0,me.Z),u=(0,n.useCallback)((t=>{var n;let{panDirection:i}=t;const r=ct({panDirection:i,cardWidth:e.cardWidth,gapSize:14,startAndEndPadding:v.A5,maxScrollDistPx:600,scrollerStore:c});null===(n=o.current)||void 0===n||n.scrollTo(void 0,r,{animate:!0})}),[e.cardWidth,c]),g=(0,n.useCallback)((()=>u({panDirection:"left"})),[u]),p=(0,n.useCallback)((()=>u({panDirection:"right"})),[u]),m=!t,f=(0,s.yK)((()=>({container:{position:"relative",width:`calc(100% + ${2*v.A5}px)`,marginLeft:-v.A5,marginRight:-v.A5},innerContainer:{display:"flex",gap:14,width:"max-content",marginTop:4,marginBottom:1,paddingLeft:v.A5,paddingRight:v.A5}})),[]);return(0,h.jsxs)("div",{style:f.container,children:[(0,h.jsx)(l.Z,{ref:o,className:S.us,store:c,type:x.Z.X,children:(0,h.jsx)("div",{style:f.innerContainer,ref:a,children:e.children})}),m&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ht,{onClick:g,type:"left",scrollerStore:c}),(0,h.jsx)(ht,{onClick:p,type:"right",scrollerStore:c})]})]})}const St=n.memo(ft);var xt=o(55535);function yt(){window.__c={n:"RecentsGallery"};const e=(0,r.VK)((()=>et.X4.state),[]),t=Math.max(Math.min(e.length,20),8),o=[...Array(t)].map(((t,o)=>o>=e.length?(0,h.jsx)(st,{width:144,height:144,showLoadingShimmer:!1},o):(0,h.jsx)(vt,{store:e[o].store},o)));return(0,h.jsx)(St,{cardWidth:144,children:o})}function vt(e){let{store:t}=e;window.__c={n:"GalleryItem"};const o=(0,s.yK)((e=>({container:{width:144,height:144},emptyGalleryCoverStyle:{border:"unset",background:e.home.cards.coverPhoto.base}})),[]),n=(0,r.VK)((()=>(0,Xe.ZP)({store:t,fullyQualified:!1,pageVisitSource:ee.tY.PersonalHomeTileRecents,peekMode:(0,tt.getUrlParamFromPeekMode)(tt.PeekModeCenter)})),[t]);return(0,h.jsxs)(it,{style:o.container,href:n,metaHref:n,children:[(0,h.jsx)(Je.Z,{variant:"gallery",store:t,coverFormat:{type:"page_cover"},showEmptyGalleryCover:!0,onLoadProxiedImage:e=>{},emptyGalleryCoverStyle:o.emptyGalleryCoverStyle}),(0,h.jsx)(wt,{store:t})]})}function wt(e){let{store:t}=e;window.__c={n:"GalleryItemTitle"};const o=(0,i.O7)(),n=(0,i.MO)(),a=(0,s.yK)((e=>{const t=j.Z.fontSize.UIRegular.desktop;return{recordIcon:{position:"absolute",top:-18,left:10,marginRight:4,marginLeft:-2,marginTop:n?0:2},titleText:{fontWeight:j.Z.fontWeight.medium,fontSize:t,lineHeight:1.5,minHeight:1.5*t,width:"auto",paddingTop:12,whiteSpace:"pre-wrap",...(0,G.pd)(2)},progressContainer:{top:14,bottom:"unset",right:"unset",fontSize:(0,G.yv)(o,"UISmall")},titleWrap:{width:"100%",height:"50%",minHeight:72,paddingTop:8,paddingLeft:10,paddingRight:10,paddingBottom:10,position:"relative"},warningIcon:{fill:e.accentColors.orange[500],width:n?20:16,marginLeft:n?2:4,marginRight:n?4:6,paddingBottom:6,paddingTop:6,display:"inline-block",verticalAlign:"bottom"}}}),[o,n]),l=(0,r.VK)((()=>t.hasIcon()||!t.isEmptyPage()),[t]),d=(0,r.VK)((()=>t.hasError()),[t]),c=(0,r.VK)((()=>t.getIcon()),[t]),u=(0,r.VK)((()=>t.isEmptyPage()),[t]),g=(0,r.VK)((()=>n?24:32),[n]),p=(0,h.jsx)(qe.Z,{disabled:!0,bucket:"secure",style:a.recordIcon,progressContainerStyle:a.progressContainer,icon:c,store:t,size:g,isEmptyPage:u});return(0,h.jsxs)("div",{style:a.titleWrap,children:[l&&!d&&p,d&&(0,$e.t)(a.warningIcon),(0,h.jsx)(Qe.Z,{style:a.titleText,store:t})]})}const bt=function(){return(0,h.jsx)(Re.Z,{title:(0,h.jsx)(M.FormattedMessage,{id:"RecentsHomePanel.Title",defaultMessage:"Recently visited"}),icon:(0,h.jsx)(xt.Z,{icon:"clock-alternate"}),children:(0,h.jsx)(yt,{})})};function Ct(e){let{panelStyle:t}=e;window.__c={n:"SimilarUsersHomePanel"};const o=(0,r.VK)((()=>{const e=(0,v.J2)("similarUsers");if(null!=e&&e.isCollectionView())return e}),[]),[i,s]=n.useState(void 0);return(0,h.jsx)(Re.Z,{title:(0,h.jsx)(M.FormattedMessage,{id:"personalHomePanelConfig.similarUsersActivityPanelTitle.withWorkspaceName",defaultMessage:"Suggested for you"}),icon:(0,h.jsx)(xt.Z,{icon:"light-bulb"}),panelStyle:{...t,paddingBottom:0},children:(0,h.jsx)(xe,{store:o,collectionContextStore:i,setCollectionContextStore:s,emptyState:(0,h.jsx)(kt,{})})})}function kt(){return(0,h.jsx)(Ee,{emoji:"💡",message:(0,h.jsx)(M.FormattedMessage,{id:"SimilarUsersHomePanel.emptyState.message",defaultMessage:"Pages relevant to you will show up here."})})}const jt=n.memo(Ct);o(57658);var Mt=o(59054),Pt=o(58178),It=o(95697),_t=o(29949),Tt=o(24211),Zt=o(26195),Ht=o(54642),Rt=o(26136);function Vt(e){if("function"===e.type)switch(e.persona){case"student":return"13FpH1AGHci69ERczKupOU";case"educator":return"7ys8LLEWhlmVEwjJjASuE2";case"operations":return"4SPA9JI4ZQtyKtYzZvAVt1";case"knowledge_management":return"5IRBIHYcfXWjy5HamFCwAn";case"it_admin":return"2lxkUWVxPdhbYcvxe7FFty";case"hr":return"17Fklm4NRZaaMdctNNyl8L";case"support":return"2SmrAf6VMtcqx2Rszb5QZn";case"sales_or_success":return"4pVIkK7rg7S6DcqwvyNHs";case"finance":return"jDnY125acofk3O42a2IZ8";case"marketing":return"3TTtGQffJRQ0H3MSUNYs6j";case"product":return"3OAmgIdyPo9wEXGRH6j4dO";case"project_or_program_management":return"1mSX3Ie5sfGGT9ZrBuPXuO";case"product_design":return"W5d1S5UYPjuiY1t2cRG4T";case"eng":return"7vJ3HPIubGvIa4PzHrAG04";case"internal_communication":return"6F1MIc09JzFpGsxknKL0pq";case"creative":return"6H3xYAAg00HPET7xvqwcl4";default:(0,k.t1)(e)}else if("space_intent"===e.type)switch(e.persona){case"life":return"2X7QqO4KLsoTArIKyG7QA";case"school":return"5zeHsLqZ0Vk5kMfTQYiupq";case"work":return"1XoFa69pF2Yf1QzikYDOk6";default:(0,k.t1)(e)}else if("space_type"===e.type)switch(e.persona){case"multiplayer":return"2mk1W9x7ihl3uEpAwIy3zP";case"singleplayer":return"hjxAjQJHiLsYhivckSUZP";default:(0,k.t1)(e)}else(0,k.t1)(e)}var At=o(18752),Bt=o(36591),Kt=o(96525),Dt=o(98742),Ft=o(38755),Lt=o(4023);function Ot(e){window.__c={n:"DebugPersonaPickerAction"};const t=(0,s.yK)((e=>({chevronRightIcon:{width:14,height:14,fill:e.lightIconColor}})),[]);return(0,h.jsx)(Kt.Z,{...e,stopClickPropagation:!0,popupType:Ie.Z4.Popup,render:e=>(0,h.jsx)(Et,{onClose:()=>e.close()}),placementToOrigin:Lt.u.Right,renderOrigin:o=>(0,h.jsx)(Pe.Z,{...(0,Dt.Z)(e,o),right:(0,gt.o)(t.chevronRightIcon),title:(0,h.jsx)(M.FormattedMessage,{id:"TemplatesHomePanel.DebugPersonaPickerMenuTitle",defaultMessage:"(Dev debug): Change user persona"})})})}function Et(e){let{onClose:t}=e;window.__c={n:"DebugPersonaPickerMenu"};const o=(0,i.O7)(),a=(0,r.VK)((()=>["clear",...X.az.map((e=>({type:"function",persona:e}))),...X.ml.map((e=>({type:"space_intent",persona:e}))),...X.GK.map((e=>({type:"space_type",persona:e})))]),[]),l=(0,r.VK)((()=>(0,Ft.g4)(o,y.default.state.currentSpaceViewStore)),[o]),d=(0,n.useCallback)((e=>{At.Z.setState(e),t("selectedOption")}),[t]),c=(0,s.yK)((e=>({selectedOptionCheck:{width:14},icon:{width:20,height:20}})),[]),u={menuType:N.og.Popup,width:250,onClickOutside:()=>t("clickedOutside")},g=[{key:"settings-item-section",render:e=>(0,h.jsx)(Te.Z,{...e}),items:a.map((e=>{if("clear"===e)return{key:"clear",action:()=>d(void 0),render:e=>(0,h.jsx)(Pe.Z,{...e,title:"clear",shouldWrapCaption:!0,right:void 0===l?(0,h.jsx)("div",{style:c.selectedOptionCheck,children:(0,Bt.e)()}):void 0})};const{type:t,persona:o}=e,n=`${t} - ${o}`;return{key:n,action:()=>d(e),render:e=>(0,h.jsx)(Pe.Z,{...e,title:n,shouldWrapCaption:!0,right:l===n?(0,h.jsx)("div",{style:c.selectedOptionCheck,children:(0,Bt.e)()}):void 0})}}))}];return(0,h.jsx)(F.Z,{...u,children:(0,h.jsx)(_e.Z,{type:_e.i.Vertical,sections:g,initialFocus:void 0})})}var Nt=o(21202),Gt=o(95807),Ut=o(94660),Wt=o(26842);const zt=240;function Yt(e){let{store:t}=e;window.__c={n:"TemplatesGalleryItem"};const o=(0,i.O7)(),a=(0,r.VK)((()=>t.getName()),[t]),l=(0,r.VK)((()=>{const e=t.getTemplateImage();if(null!=e&&e.url)return(0,Gt.Hl)(e.url)}),[t]),d=(0,r.VK)((()=>t.getTemplateEmoji()),[t]),c=(0,r.VK)((()=>t.getTemplateIcon()),[t]),u=(0,n.useCallback)((()=>{const e=o.RouterStore.state.route,{currentSpaceStore:n}=y.default.state,i=(0,Ut.gA)(t);if(!i||!n||"page"!==e.name)return;"closed"===_t.Z.state.status&&_t.Z.setState({..._t.Z.state,selectedTemplate:void 0,allTemplates:void 0});const r=Wt.G.createChildStore(n,{table:Nt.iU,id:e.blockId,spaceId:n.id});ve._({environment:o,store:r,pageVisitSource:ee.tY.PersonalHomeTileTemplates,templateGalleryItem:i})}),[o,t]),g=(0,s.yK)((e=>{const t=e.home.cards.templateCardBackground;return{container:{width:zt,height:180,display:"flex",flexDirection:"column",justifyContent:"stretch",background:t.base,boxShadow:e.homeShadow.templateCard.base},containerHovered:{background:t.hovered,boxShadow:e.homeShadow.templateCard.hovered},containerPressed:{background:t.pressed,boxShadow:e.homeShadow.templateCard.hovered},headerTitleAndIconContainer:{paddingTop:14,paddingBottom:14,paddingLeft:16,paddingRight:16,display:"flex",alignItems:"center",gap:12,flexShrink:0,justifyContent:"start"},headerTextContainer:{display:"flex",flexDirection:"column",gap:2,alignItems:"start",flexGrow:1,flexShrink:1},headerIcon:{width:32,height:32},offsetImageContainer:{position:"relative",flexShrink:1,flexGrow:1,minHeight:0},offsetImage:{position:"absolute",width:zt,top:0,left:24,borderRadius:6,boxShadow:"0px 0px 0px 1px rgba(18, 18, 18, 0.03),  0px 2px 8px 0px rgba(18, 18, 18, 0.1)"},text:{width:"100%",lineHeight:1.3,...j.Z.textOverflowStyle}}}),[]);return(0,h.jsxs)(it,{style:g.container,hoveredStyle:g.containerHovered,pressedStyle:g.containerPressed,onClick:u,children:[(0,h.jsxs)("div",{style:g.headerTitleAndIconContainer,children:[(0,h.jsx)($t,{templateIcon:c,templateEmoji:d,size:32}),(0,h.jsxs)("div",{style:g.headerTextContainer,children:[(0,h.jsx)(O.Z,{style:g.text,children:a}),(0,h.jsx)(O.Z,{isSmall:!0,isSecondaryColor:!0,children:(0,h.jsx)(M.FormattedMessage,{id:"templatesGalleryItem.authorByNotion",defaultMessage:"By Notion"})})]})]}),(0,h.jsx)("div",{style:g.offsetImageContainer,children:(0,h.jsx)("img",{style:g.offsetImage,src:l})})]})}function $t(e){let{templateIcon:t,templateEmoji:o,size:n}=e;window.__c={n:"TemplateIcon"};const i=(0,s.yK)((e=>({headerIcon:{width:n,height:n}})),[n]);return o?(0,h.jsx)(Oe.Z,{size:n,char:o}):t?(0,h.jsx)("img",{src:t,crossOrigin:"anonymous",style:i.headerIcon}):null}const Jt=n.memo(Yt);function qt(e){let{}=e;window.__c={n:"TemplatesHomePanel"};const t=(0,i.O7)(),o=(0,M.useIntl)(),a=(0,r.VK)((()=>(0,It.QI)("dev_only")),[]),l=(0,r.VK)((()=>{const{currentSpaceStore:e,currentUserSettingsStore:t}=y.default.state,o=At.Z.state;return o||(0,X.NZ)({spaceSurveyData:null==e?void 0:e.getSpaceSurveyData(),spaceModel:null==e?void 0:e.getModel(),userUseCases:null==t?void 0:t.getUseCases(),userPersonaValue:null==t?void 0:t.getPersona()})}),[]),[d]=(0,Mt.r5)((async()=>{if(l)return await async function(e){let{persona:t,environment:o,intl:n}=e;const{currentSpaceStore:i}=y.default.state;if(!i)return[];const r=await Ht.getTemplateContentGroup(o,{contentfulId:Vt(t),locale:(0,Tt.E2)(n)});return"success"!==r.type||!1===r.data.success||"template"!==r.data.type?[]:r.data.content.map((e=>Rt.j$.createChildStore(i,{table:Zt.nE,id:e.id})))}({persona:l,environment:t,intl:o})}),[t,o,l]),c="pending"===(null==d?void 0:d.status),u=(0,r.VK)((()=>"resolved"===(null==d?void 0:d.status)?d.value??[]:[]),[d]),g=(0,n.useCallback)((()=>{const{currentSpaceViewStore:e}=y.default.state;e&&se.aG({environment:t,currentSpaceViewStore:e,feature:"templates",from:"templates_dismiss_button"})}),[t]),p=(0,n.useCallback)((()=>{_t.Z.open({analyticsFrom:"home_tile_templates_all_templates",cloneTo:"destination_picker",selectedTemplate:void 0})}),[]),m=(0,s.yK)((e=>({templatesIcon:{width:20,height:20,padding:2,fill:e.regularIconColor}})),[]),f=(0,n.useMemo)((()=>{const e=[{type:"custom",closeOnAccept:!0,item:{key:"all_templates",render:(e,t)=>(0,h.jsx)(Pe.Z,{...e,title:(0,h.jsx)(M.FormattedMessage,{id:"TemplatesHomePanel.showAllTemplates",defaultMessage:"Explore more templates"}),icon:(0,Pt.s)(m.templatesIcon)}),action:p}},{type:"hide",hide:g}];return a&&e.push({type:"custom",closeOnAccept:!1,item:{key:"debug",render:e=>(0,h.jsx)(Ot,{...e}),action:()=>{}}}),[(0,h.jsx)(He,{actions:e},"more")]}),[g,p,a,m.templatesIcon]);return(0,h.jsx)(Re.Z,{title:(0,h.jsx)(M.FormattedMessage,{id:"TemplatesHomePanel.Title",defaultMessage:"Featured templates"}),icon:(0,h.jsx)(xt.Z,{icon:"kind"}),actions:f,children:(0,h.jsx)(ft,{cardWidth:zt,children:c||0===u.length?[...Array(3).keys()].map((e=>(0,h.jsx)(st,{width:zt,height:180,showLoadingShimmer:c},e))):u.map((e=>(0,h.jsx)(Jt,{store:e},e.id)))})})}const Qt=n.memo(qt);var Xt=o(26139),eo=o(30687),to=o(72126),oo=o(12714),no=o(60458),io=o(61519),ro=o(85740),so=o(32662),ao=(o(95477),o(18514)),lo=o(77080),co=o(27068),uo=o(30806),go=o(35762),po=o(90025);class mo extends A.default{getInitialState(){return{num_checked:0,total_cards_shown:0}}}const ho=new mo;var fo=o(52389);function So(){window.__c={n:"TipsHomePanelEmptyState"};const e=(0,i.O7)(),t=(0,s.yK)((e=>({container:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:14,color:e.lightTextColor,flexGrow:1},icon:{width:16,height:16,fill:e.blueColor}})),[]);return(0,h.jsx)(Ee,{emoji:"📖",message:(0,h.jsxs)("div",{style:t.container,children:[(0,h.jsx)(M.FormattedMessage,{id:"TipsHomePanel.emptyState.message",defaultMessage:"New tips and guides will appear here."}),(0,h.jsx)(so.Z,{size:12}),(0,h.jsxs)(ro.Z,{isBlue:!0,onClick:()=>{oo.D({environment:e,url:"https://www.notion.so/help",targetSelf:!1})},children:[(0,h.jsx)(M.FormattedMessage,{id:"TipsHomePanel.emptyState.exploreMore",defaultMessage:"Explore more in Help Center"}),(0,h.jsx)(so.Z,{size:2}),(0,Xt.K)(t.icon)]})]})})}function xo(e){window.__c={n:"HideCompletedButton"};const{reorderTipsCallback:t}=e,o=(0,i.O7)(),n=(0,r.VK)((()=>{const{currentUserSettingsStore:e}=y.default.state;return!!e&&e.getPersonalHomeTipsSettings().hide_completed}),[]),a=(0,s.yK)((e=>({button:{fontSize:(0,G.yv)(o,"UISmall"),fontWeight:j.Z.fontWeight.medium,color:e.text.secondary,borderRadius:3,padding:"6px 8px",marginRight:-8}})),[o]);return(0,h.jsx)(de.Z,{onClick:()=>{(0,co.N8)({hide:!n,environment:o});const e=ho.state;uo.uD(o,{show_completed_tips:n,num_checked:e.num_checked,total_cards_shown:e.total_cards_shown}),t()},style:a.button,children:n?(0,h.jsx)(M.FormattedMessage,{id:"tipsHomePanel.hideCompletedButton.show",defaultMessage:"Show completed"}):(0,h.jsx)(M.FormattedMessage,{id:"tipsHomePanel.hideCompletedButton.hide",defaultMessage:"Hide completed"})})}function yo(e){window.__c={n:"TipsGalleryItem"};const{card:t}=e,o=(0,i.O7)(),[a,l]=(0,n.useState)(!1),d=(0,r.VK)((()=>{const e=o.device.isElectron,n=["local","production"].includes("production");return lo.default.checkGate("tips_inapp_modal")&&"category"!==t.contentType&&(!e||n)}),[t,o]),c=t.key,u=(0,r.VK)((()=>{const{currentUserSettingsStore:e}=y.default.state;if(!e)return!1;const t=e.getPersonalHomeTipsSettings().progress_data[c];return!!t&&t.completed}),[c]),g=(0,n.useCallback)(((e,t)=>{if(e===u)return;(0,co.K_)({tipType:c,completed:e,environment:o});const n=ho.state,i=n.num_checked+(e?1:-1);ho.setState({...n,num_checked:i}),uo.g8(o,{tip_key:c,checked:e,from:t,num_checked:i,total_cards_shown:n.total_cards_shown})}),[c,o,u]),p=(0,n.useCallback)((()=>{uo.PQ(o,{tip_key:c,was_completed:u,in_app_modal_enabled:d}),g(!0,"clickthrough"),d&&fo.Z.setState({open:!0,tipCardDisplayInfo:t})}),[o,c,u,g,d,t]),m=(0,s.yK)((e=>{const t={position:"absolute",top:8,right:8},o={height:104,padding:12,width:216,position:"relative",fill:e.icon.yellow},n={display:"inline-flex",alignItems:"center",fontSize:12};return{item:o,checkedItem:{...o,color:e.text.secondary},pressedItem:{background:e.home.cards.background.pressed},icon:{width:20,height:20},caption:{...n,color:e.text.secondary},pressedCaption:{...n,color:e.text.tertiary},title:{fontSize:14,lineHeight:"18px",fontWeight:j.Z.fontWeight.medium,minHeight:36,marginTop:6,marginBottom:4,whiteSpace:"pre-wrap",...(0,G.pd)(2)},hiddenCheckbox:{display:"none"},checkbox:t,hoveredCheckbox:{...t,fill:e.home.cards.coverPhoto.base}}}),[]),f=u?m.checkbox:a?m.hoveredCheckbox:m.hiddenCheckbox,S=u?m.checkedItem:m.item,x=u?m.pressedCaption:m.caption,v=(0,ao.UY)("guides.guides"),w=d?void 0:`${v}${t.href}?${(0,go.$y)()}`;return(0,h.jsxs)(it,{href:w,style:S,pressedStyle:m.pressedItem,external:!0,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onClick:p,children:[(0,h.jsx)(no.Z,{checked:u,size:20,onClick:()=>g(!u,"check_button"),round:!0,thinOutline:!0,style:f,tooltipHeader:u?(0,h.jsx)(M.FormattedMessage,{id:"tipsHomePanel.checkbox.incompleteTooltip",defaultMessage:"Mark incomplete"}):(0,h.jsx)(M.FormattedMessage,{id:"tipsHomePanel.checkbox.completeTooltip",defaultMessage:"Mark complete"})}),t.icon(m.icon),(0,h.jsx)("div",{style:m.title,children:t.title}),Boolean(t.durationMinutes)&&(0,h.jsx)("div",{style:x,children:"video"===t.contentType?(0,h.jsx)(M.FormattedMessage,{id:"tipsHomePanel.captionDuration.watch",defaultMessage:"{duration}m watch",values:{duration:t.durationMinutes}}):(0,h.jsx)(M.FormattedMessage,{id:"tipsHomePanel.captionDuration.read",defaultMessage:"{duration}m read",values:{duration:t.durationMinutes}})})]})}const vo=function(){window.__c={n:"TipsHomePanel"};const e=(0,i.O7)(),[t,o]=(0,n.useState)(!0),[a,l]=(0,n.useState)([]),[d,c]=(0,n.useState)([]),[u,g]=(0,n.useState)(0),p=(0,r.VK)((()=>{const e=po.Z.state,{currentUserSettingsStore:t}=y.default.state;if(e)return(0,go.pJ)(e);if(null==t||!t.isReady())return[];const o=(0,go.rM)();return(0,go.pJ)(o)}),[]),m=(0,n.useCallback)((()=>{const{currentUserSettingsStore:e}=y.default.state;if(null==e||!e.isReady())return;const t=e.getPersonalHomeTipsSettings().progress_data,[n,i]=to.uK(p,(e=>{const o=e.key,n=t[o];return null==n?void 0:n.completed}));l(n),c(i),o(!1),ho.setState({...ho.state,num_checked:n.length,total_cards_shown:p.length})}),[p]);(0,n.useEffect)((()=>{m()}),[m]);const f=(0,n.useCallback)((e=>{e&&g(e.offsetLeft-48)}),[]),S=(0,s.yK)((e=>({tileIcon:{width:14,height:14,fill:e.mediumIconColor},header:{marginBottom:-16},panel:{height:168},gallery:{paddingTop:12},divider:{height:104,scrollMarginLeft:48},dividerColor:{color:e.home.cards.verticalDivider}})),[]),x=(0,r.VK)((()=>y.default.state.currentSpaceViewStore),[]),v=(0,n.useCallback)((()=>{x&&se.aG({environment:e,currentSpaceViewStore:x,feature:"tips",from:"tips_dismiss_button"})}),[x,e]),w=(0,r.VK)((()=>{const{currentUserSettingsStore:e}=y.default.state;return!!e&&e.getPersonalHomeTipsSettings().hide_completed}),[]),b=!t&&w&&0===d.length;return(0,h.jsx)(Re.Z,{title:(0,h.jsx)(M.FormattedMessage,{id:"LearnHomePanel.Title",defaultMessage:"Learn"}),actions:[(0,h.jsx)(He,{actions:[{type:"hide",hide:v}]},"more")],icon:(0,eo.w)(S.tileIcon),right:(0,h.jsx)(xo,{reorderTipsCallback:m}),panelStyle:S.panel,headerStyle:S.header,children:b?(0,h.jsx)(So,{}):(0,h.jsx)("div",{style:S.gallery,children:(0,h.jsxs)(St,{cardWidth:216,scrollPosition:u,children:[!w&&a.map((e=>(0,h.jsx)(yo,{card:e},e.key))),!w&&a.length>0&&d.length>0&&(0,h.jsx)(io.Z,{ref:f,vertical:!0,size:1,style:S.divider,dividerColor:S.dividerColor.color}),d.map((e=>(0,h.jsx)(yo,{card:e},e.key)))]})})})};function wo(){window.__c={n:"PersonalHomePage"};const{isMobile:e}=(0,i.Fy)(),t=(0,s.yK)((()=>({sideBySideTile:{height:270,paddingRight:0}})),[]),o=(0,r.VK)((()=>{const t=y.default.state.currentSpaceViewStore,o=(null==t?void 0:t.getHomeEnabledFeatures())??{};return{tasks:o.tasks,similarUsersAndTrending:(0,X.Ju)(),tips:o.tips,templates:!e&&o.templates}}),[e]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(S.bU,{children:(0,h.jsx)(bt,{})}),o.tasks&&(0,h.jsx)(S.bU,{children:(0,h.jsx)(Ae,{})}),o.similarUsersAndTrending&&(0,h.jsx)(S.Cq,{minWidth:300,left:(0,h.jsx)(jt,{panelStyle:t.sideBySideTile}),right:(0,h.jsx)(Ye,{panelStyle:t.sideBySideTile})}),o.templates&&(0,h.jsx)(S.bU,{children:(0,h.jsx)(Qt,{})}),o.tips&&(0,h.jsx)(S.bU,{children:(0,h.jsx)(vo,{})})]})}const bo=n.memo(wo);function Co(){window.__c={n:"PersonalHomeContainer"};const{isPhone:e}=(0,i.Fy)(),t=(0,r.VK)((()=>{const e=y.default.state.currentSpaceViewStore;return e&&(0,v.Al)(e)}),[]);(0,n.useEffect)((()=>{a.j({name:"open_home"})}),[]);const o=(0,s.yK)((e=>({container:{width:"100%",height:"100%",cursor:"default"}})),[]),d=e?v.EP:v.iO;return(0,h.jsxs)(h.Fragment,{children:[t&&(0,h.jsx)(f,{store:t}),(0,h.jsx)(l.Z,{type:x.Z.Y,style:o.container,className:"home-content",children:(0,h.jsxs)(S.Ar,{type:e?"home-phone":"home",gap:d,withBottomPadding:!0,children:[(0,h.jsx)(S.hy,{children:(0,h.jsx)(Q,{layoutGapSize:d})}),(0,h.jsx)(bo,{})]})})]})}const ko=n.memo(Co)},18752:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(49085);class i extends n.default{getInitialState(){}}const r=new i},90025:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(49085);class i extends n.default{getInitialState(){}}const r=new i},14542:(e,t,o)=>{o.d(t,{EP:()=>s,LU:()=>a,NS:()=>r,SS:()=>i,ZP:()=>d});var n=o(49085);const i="loadingLocalImage",r="uploading",s="downloading",a="loaded";class l extends n.default{getInitialState(){return{loadingMode:a}}}const d=l},96809:(e,t,o)=>{o.d(t,{Z:()=>n});const n=new(o(14542).ZP)},69150:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(49085);class i extends n.default{getInitialState(){return{isHovered:!1}}}const r=new i},40745:(e,t,o)=>{o.d(t,{M:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("arrowDown",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},2585:(e,t,o)=>{o.d(t,{f:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("chevronLeft",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M3.61816 8.06445C3.61816 8.29688 3.70703 8.49512 3.8916 8.67285L9.22363 13.8887C9.36719 14.0391 9.55859 14.1143 9.77734 14.1143C10.2217 14.1143 10.5703 13.7725 10.5703 13.3213C10.5703 13.1025 10.4814 12.9043 10.3311 12.7539L5.52539 8.06445L10.3311 3.375C10.4814 3.21777 10.5703 3.01953 10.5703 2.80078C10.5703 2.35645 10.2217 2.01465 9.77734 2.01465C9.55859 2.01465 9.36719 2.08984 9.22363 2.24023L3.8916 7.45605C3.70703 7.63379 3.625 7.83203 3.61816 8.06445Z"})})},64275:(e,t,o)=>{o.d(t,{D:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("closeSmall",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M3.732 11.052c-.303.308-.32.877.011 1.202.33.33.894.32 1.203.011L8 9.21l3.05 3.05c.32.325.872.32 1.197-.011a.857.857 0 00.01-1.197L9.21 8.002l3.05-3.056a.857.857 0 00-.01-1.197.857.857 0 00-1.198-.01L8 6.788 4.946 3.732c-.31-.303-.878-.32-1.203.01-.325.331-.314.895-.01 1.203l3.055 3.056-3.056 3.05z"})})},64878:(e,t,o)=>{o.d(t,{h:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("dot",{viewBox:"0 0 5 4",svg:(0,i.jsx)("circle",{cx:"2.5",cy:"2",r:"2"})})},58178:(e,t,o)=>{o.d(t,{s:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("templateGalleryNewLogo",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M12.0281 10H7.5V2.5H15V8.125H13.1125L12.0312 10H12.0281ZM6.25 11.25V6.875C3.83437 6.875 1.875 8.83437 1.875 11.25C1.875 13.6656 3.83437 15.625 6.25 15.625C8.66562 15.625 10.625 13.6656 10.625 11.25H6.25ZM14.9156 9.375H13.8344L10.0469 15.9375C10.2875 16.3531 10.3469 16.4594 10.5875 16.875H18.1656C18.4062 16.4594 18.4656 16.3531 18.7062 15.9375L14.9187 9.375H14.9156Z"})})}}]);
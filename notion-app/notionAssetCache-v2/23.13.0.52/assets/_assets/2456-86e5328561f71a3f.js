"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[2456],{2456:(e,t,o)=>{o.d(t,{Hq:()=>O,KX:()=>z,SP:()=>q,SX:()=>A,Tl:()=>K,ZD:()=>H,ZP:()=>E,pH:()=>F,xP:()=>U});var r=o(67294),i=o(83355),l=o(13991),s=o(480),n=o(86628),a=o(24405),c=o(17215),d=o(41432),p=o(99036),u=o(80951),h=o(25501),b=o(39068),m=o(6695),x=o(42875),v=o(54851),S=o(91),g=o(22808),k=o(59753),y=o(21202),f=o(6287),j=o(23867),w=o(97880),V=o(82990),T=o(9291),P=o(42130),L=o(33929),_=o(41662),B=o(30874),C=o(81865),R=o(31278),M=o(14200),I=o(85893);const Z=(0,T.defineMessages)({[d.Ti.quote]:{defaultMessage:"Quote",id:"edit.quoteBlock.label"},[d.Ti.callout]:{defaultMessage:"Callout",id:"edit.calloutBlock.label"},[d.Ti.button]:{defaultMessage:"Button",id:"edit.buttonBlock.label"},[d.Ti.factory]:{defaultMessage:"Template Button",id:"edit.templateButtonBlock.label"},[d.Ti.bookmark]:{defaultMessage:"Bookmark",id:"edit.bookmarkBlockProperty.label"},[d.Ti.equation]:{defaultMessage:"Equation",id:"edit.equationBlock.label"}});function F(e){return Z[e]&&L.default.formatMessage(Z[e])}function A(e,t){return k.kk.fromBlock(e).getProperties()[t]||[]}class D extends i.Z{constructor(){super(...arguments),this.getRecordValue=this.props.rootStore.getRecordValue,this.getRecordModel=k.om.fromGetRecordValueFn(this.getRecordValue)}renderComponent(){const{blockValue:e}=this.props;switch(e.type){case d.Ti.text:return(0,I.jsx)(Q,{rootStore:this.props.rootStore,blockValue:e});case d.Ti.header:return(0,I.jsx)(ee,{rootStore:this.props.rootStore,blockValue:e});case d.Ti.subHeader:return(0,I.jsx)(te,{rootStore:this.props.rootStore,blockValue:e});case d.Ti.subSubHeader:return(0,I.jsx)(oe,{rootStore:this.props.rootStore,blockValue:e});case d.Ti.toggle:return(0,I.jsx)(re,{rootStore:this.props.rootStore,blockValue:e});case d.Ti.bulletedList:return(0,I.jsx)(ie,{rootStore:this.props.rootStore,blockValue:e});case d.Ti.numberedList:return(0,I.jsx)(le,{rootStore:this.props.rootStore,blockValue:e});case d.Ti.quote:return(0,I.jsx)(de,{blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e});case d.Ti.factory:return(0,I.jsx)(pe,{blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,rootStore:this.props.rootStore,blockValue:e});case d.Ti.button:{const t=k.kk.fromBlock(e).getAutomationPointer();if(t){const e=this.getRecordModel(t);if(e)return(0,I.jsx)(ue,{blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,automation:e})}break}case d.Ti.equation:return(0,I.jsx)(he,{blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e});case d.Ti.toDo:return(0,I.jsx)(se,{rootStore:this.props.rootStore,blockValue:e});case d.Ti.code:return(0,I.jsx)(be,{blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e});case d.Ti.bookmark:return(0,I.jsx)(xe,{blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,rootStore:this.props.rootStore,blockValue:e});case d.Ti.page:return this.renderPageBlock(k.kk.fromBlock(e));case d.Ti.collectionView:case d.Ti.collectionViewPage:{const t=k.kk.fromBlock(e).getCollectionPointer();if(t){const e=this.getRecordModel(t);if(e)return this.renderCollectionBlock(e)}break}case d.Ti.image:return(0,I.jsx)(ne,{rootStore:this.props.rootStore,blockPreviewLocation:this.props.blockPreviewLocation,blockValue:e});case d.Ti.embed:return(0,I.jsx)(me,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"embed"});case d.Ti.framer:return(0,I.jsx)(me,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"framer"});case d.Ti.tweet:return(0,I.jsx)(me,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"tweet"});case d.Ti.gist:return(0,I.jsx)(me,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"gist"});case d.Ti.drive:return(0,I.jsx)(ge,{deleted:this.props.deleted,blockPreviewLocation:this.props.blockPreviewLocation,intl:this.props.intl,created:this.props.created,rootStore:this.props.rootStore,blockValue:e});case d.Ti.maps:return(0,I.jsx)(me,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"maps"});case d.Ti.invision:return(0,I.jsx)(me,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"invision"});case d.Ti.video:return(0,I.jsx)(me,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"video"});case d.Ti.audio:return(0,I.jsx)(me,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"audio"});case d.Ti.file:return(0,I.jsx)(me,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"file"});case d.Ti.callout:return(0,I.jsx)(ce,{created:this.props.created,blockPreviewLocation:this.props.blockPreviewLocation,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e});case d.Ti.whimsical:return(0,I.jsx)(me,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"whimsical"});case d.Ti.miro:return(0,I.jsx)(me,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"miro"});case d.Ti.abstract:return(0,I.jsx)(me,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"abstract"});case d.Ti.mixpanel:return(0,I.jsx)(me,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"mixpanel"});case d.Ti.sketch:return(0,I.jsx)(me,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"sketch"});case d.Ti.excalidraw:return(0,I.jsx)(me,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"excalidraw"});case d.Ti.replit:return(0,I.jsx)(me,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"replit"});case d.Ti.pdf:return(0,I.jsx)(me,{intl:this.props.intl,blockPreviewLocation:this.props.blockPreviewLocation,created:this.props.created,deleted:this.props.deleted,rootStore:this.props.rootStore,blockValue:e,type:"pdf"});case d.Ti.table:return this.renderSimpleTableBlock(e);case d.Ti.tableRow:return this.renderSimpleTableRowBlock(e);case d.Ti.externalObjectInstance:return(0,I.jsx)(ve,{created:this.props.created,blockPreviewLocation:this.props.blockPreviewLocation,deleted:this.props.deleted,blockValue:e});case d.Ti.linkToPage:case d.Ti.personalHomePage:case d.Ti.linkToCollection:case d.Ti.divider:case d.Ti.columnList:case d.Ti.column:case d.Ti.copyIndicator:case d.Ti.breadcrumb:case d.Ti.figma:case d.Ti.loom:case d.Ti.typeform:case d.Ti.codepen:case d.Ti.tableOfContents:case d.Ti.alias:case d.Ti.transclusionContainer:case d.Ti.transclusionReference:case d.Ti.hex:case d.Ti.tab:case d.Ti.deepnote:case d.Ti.externalObjectInstancePage:case d.Ti.aiBlock:case d.Ti.drawing:return;default:(0,w.t1)(e)}}renderPageBlock(e){var t;const o=this.getRecordModel({table:y.iU,id:e.id})||e,r=o.getRenderTitle({getRecordModel:this.getRecordModel,userTimeZone:(0,x.r)(),intl:this.props.intl})||(0,I.jsx)(T.FormattedMessage,{defaultMessage:"Untitled",id:"edit.pageBlock.untitled"});return(0,I.jsxs)("div",{style:{display:"flex",alignItems:"center",overflow:"hidden"},children:[(0,I.jsx)("div",{style:{paddingRight:6},children:(0,I.jsx)(W,{icon:null==o||null===(t=o.getFormat())||void 0===t?void 0:t.page_icon,rootStore:this.props.rootStore,blockValue:this.props.blockValue})}),(0,I.jsx)("div",{className:"notranslate",style:{flex:1,textOverflow:"ellipsis",overflow:"hidden"},children:r})]})}renderCollectionBlock(e){const t=this.getRecordModel({table:f.v,id:e.id})||e,o=t.getRenderTitle({intl:this.props.intl,getRecordModel:this.getRecordModel,userTimeZone:(0,x.r)()})||(0,I.jsx)(T.FormattedMessage,{defaultMessage:"Untitled",id:"edit.collectionBlock.untitled"});return(0,I.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,I.jsx)("div",{style:{paddingRight:4},children:(0,I.jsx)(W,{icon:t.icon,rootStore:this.props.rootStore,blockValue:this.props.blockValue})}),(0,I.jsx)("div",{style:{flex:1},children:o})]})}renderSimpleTableBlock(e){var t,o,r;const i=(null===(t=e.content)||void 0===t?void 0:t.length)||0,l=(null===(o=e.format)||void 0===o||null===(o=o.table_block_column_order)||void 0===o?void 0:o.length)||0;if(!i||!l)return;const s=e.content?e.content.map((t=>this.getRecordModel({table:e.parent_table,id:t,spaceId:e.space_id}))):[],n=null===(r=e.format)||void 0===r?void 0:r.table_block_column_order;return(0,I.jsx)("div",{style:{overflow:"scroll"},children:(0,I.jsx)("table",{children:(0,I.jsx)("tbody",{children:s.map((e=>e?(0,I.jsx)("tr",{children:null==n?void 0:n.map((t=>(0,I.jsx)(Se,{rootStore:this.props.rootStore,blockValue:e,columnID:t},t)))},e.id):void 0))})})})}renderSimpleTableRowBlock(e){var t;if(!e.properties||0===(0,w.Yd)(e.properties).length)return;const o=this.getRecordModel({table:e.parent_table,id:e.parent_id,spaceId:e.space_id});if(!o)return;const r=null===(t=o.getFormat())||void 0===t?void 0:t.table_block_column_order;return(0,I.jsx)("div",{style:{display:"flex",alignItems:"stretch",margin:4},children:(0,I.jsx)("table",{children:(0,I.jsx)("tr",{children:null==r?void 0:r.map((t=>(0,I.jsx)(Se,{rootStore:this.props.rootStore,blockValue:k.kk.fromBlock(e),columnID:t},t)))})})})}}function z(e){let{value:t,propertySchema:o,labeled:r,rootStore:i,disableStyleAnnotations:l,disableInsertedDeletedAnnotations:s,disableDateStyleAnnotations:n}=e;return(0,I.jsx)(O,{labeled:r,type:o.type,icon:o.icon,name:o.name,children:(0,I.jsx)(M.Z,{propertySchema:o,value:t,rootStore:i,disableStyleAnnotations:l,disableInsertedDeletedAnnotations:s,disableDateStyleAnnotations:n})})}function K(e){let{blockValue:t,prop:o,labeled:r,schema:i,rootStore:l}=e;window.__c={n:"BlockProperty"};const s=(0,T.useIntl)(),n=(i||p.Kc(s))[o];if(n){const e=A(t,o);return(0,I.jsx)(z,{value:{value:e,spaceId:(0,j.C)(t.space_id)},propertySchema:n,labeled:r,rootStore:l})}return null}function H(e){let{children:t}=e;const o=(0,I.jsx)("div",{style:{width:"1em",height:"1em",display:"flex",alignSelf:"stretch",justifyContent:"center",flexShrink:0,marginLeft:6,marginRight:6,marginTop:6},children:(0,S.L)({width:"0.6875em",height:"0.6875em",transform:"rotateZ(90deg)"})});return(0,I.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[o,(0,I.jsx)("span",{children:t})]})}function U(e){let{src:t,permissionRecord:o}=e;window.__c={n:"BlockPreviewImage"};const r=(0,a.Fg)();return t?(0,I.jsx)(C.Z,{url:t,isAuthenticated:!0,permissionRecord:o,width:170,render:(e,t)=>{if(t)return(0,I.jsx)("img",{src:t,style:{maxHeight:170,maxWidth:170}})}}):(0,I.jsx)("div",{style:{backgroundColor:r.lightTextColor,height:170,width:170}})}function W(e){let{icon:t,rootStore:o,blockValue:r}=e;if(t){if((0,g.Z)(t))return(0,I.jsx)("div",{style:{fontSize:16.2,display:"inline-block"},children:t});{const e=k.kk.fromBlock(r).getRenderIcon({getRecordModel:o.getRecordModel});return(0,I.jsx)(R.Z,{disabled:!0,icon:e,isEmptyPage:!1,size:18,style:{marginTop:6,marginBottom:6}})}}return(0,v.S)({height:18,width:18})}function O(e){let{children:t,type:o,icon:r,name:i,labeled:l,style:s}=e;window.__c={n:"BlockPreviewPropertyLabel"};const n=(0,a.Fg)();return l?(0,I.jsxs)("div",{style:s,children:[(0,I.jsxs)("div",{style:{display:"flex",color:n.lightTextColor,paddingTop:7,fontSize:12,lineHeight:1,marginBottom:2},children:[(0,I.jsx)(b.ZP,{type:o,icon:r,size:14,theme:n}),(0,I.jsx)("div",{style:{marginLeft:6},children:i})]}),(0,I.jsx)("div",{style:{display:"flex",alignItems:"center",minHeight:24},children:t})]}):(0,I.jsx)("div",{style:s,children:t})}function q(e){const t=e&&e.properties&&e.properties.language;if(!t)return(0,I.jsx)(T.FormattedMessage,{defaultMessage:"Code",id:"edit.codeBlockChanged.label"});const o=u.Sj(t,p.fG);return(0,I.jsx)(T.FormattedMessage,{defaultMessage:"Code - {codeLanguage}",values:{codeLanguage:o},id:"edit.codeBlockWithLanguageChanged.label"})}D.displayName="BlockPreview";const E=(0,T.injectIntl)(D);function N(e){const t=e&&e.properties&&e.properties.source;return u.zB(t)}function X(e,t){return Boolean(e&&e.properties&&e.properties[t])}function G(e){let{blockValue:t}=e;const o=N(t);return(0,I.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,I.jsx)("span",{style:{wordBreak:"break-word"},children:o})})}function $(e){let{blockValue:t,rootStore:o}=e;return(0,I.jsx)(K,{rootStore:o,blockValue:t,prop:"title",labeled:!1})}function Y(e){let{blockValue:t,rootStore:o}=e;return(0,I.jsx)("div",{style:{marginRight:6,marginTop:3},children:(0,I.jsx)(K,{rootStore:o,blockValue:t,prop:"checked",labeled:!1})})}function J(e){let{blockValue:t,rootStore:o}=e;return X(t,"caption")?(0,I.jsx)(K,{rootStore:o,blockValue:t,prop:"caption",labeled:!1}):null}function Q(e){let{blockValue:t,rootStore:o}=e;return(0,I.jsx)($,{rootStore:o,blockValue:t})}function ee(e){let{blockValue:t,rootStore:o}=e;return(0,I.jsx)("div",{style:P.v.headerStyle,children:(0,I.jsx)($,{rootStore:o,blockValue:t})})}function te(e){let{blockValue:t,rootStore:o}=e;return(0,I.jsx)("div",{style:P.v.subHeaderStyle,children:(0,I.jsx)($,{rootStore:o,blockValue:t})})}function oe(e){let{blockValue:t,rootStore:o}=e;return(0,I.jsx)("div",{style:P.v.subSubHeaderStyle,children:(0,I.jsx)($,{rootStore:o,blockValue:t})})}function re(e){let{blockValue:t,rootStore:o}=e;return(0,I.jsx)(H,{children:(0,I.jsx)($,{rootStore:o,blockValue:t})})}function ie(e){let{blockValue:t,rootStore:o}=e;return(0,I.jsx)("ul",{style:{margin:0,paddingLeft:28},children:(0,I.jsx)("li",{children:(0,I.jsx)($,{rootStore:o,blockValue:t})})})}function le(e){let{blockValue:t,rootStore:o}=e;return(0,I.jsx)("ol",{style:{margin:0,paddingLeft:28},children:(0,I.jsx)("li",{children:(0,I.jsx)($,{rootStore:o,blockValue:t})})})}function se(e){let{blockValue:t,rootStore:o}=e;return(0,I.jsxs)("div",{style:{display:"inline-flex"},children:[(0,I.jsx)(Y,{rootStore:o,blockValue:t}),(0,I.jsx)($,{rootStore:o,blockValue:t})]})}function ne(e){let{blockValue:t,rootStore:o,blockPreviewLocation:i}=e;const l=N(t);if(!l)return null;const s=(0,I.jsx)(J,{rootStore:o,blockValue:t});return"comments_sidebar"===i?(0,I.jsx)(r.Fragment,{children:(0,I.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,I.jsx)(U,{src:l,permissionRecord:{table:y.iU,id:t.id}}),s&&(0,I.jsx)("div",{style:{marginBottom:4},children:s})]})}):(0,I.jsxs)(r.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex"},children:(0,I.jsx)("div",{style:{marginTop:4,marginBottom:4},children:(0,I.jsx)(U,{src:l,permissionRecord:{table:y.iU,id:t.id}})})}),s&&(0,I.jsx)("div",{style:{marginBottom:4},children:s})]})}function ae(e){return function(e){return"comments_sidebar"===e}(e)?{marginTop:0,marginBottom:0}:void 0}function ce(e){let{blockValue:t,created:o,blockPreviewLocation:r,deleted:i,rootStore:l}=e;window.__c={n:"CalloutBlockComponent"};const s=(0,a.Fg)();return(0,I.jsx)(h.Z,{title:F(d.Ti.callout),theme:s,created:o,style:ae(r),deleted:i,children:(0,I.jsx)($,{rootStore:l,blockValue:t})})}function de(e){let{blockValue:t,blockPreviewLocation:o,created:r,deleted:i,rootStore:l}=e;window.__c={n:"QuoteBlockComponent"};const s=(0,a.Fg)();return(0,I.jsx)(h.Z,{title:F(d.Ti.quote),theme:s,style:ae(o),created:r,deleted:i,children:(0,I.jsx)($,{rootStore:l,blockValue:t})})}function pe(e){let{blockValue:t,blockPreviewLocation:o,created:r,rootStore:i}=e;window.__c={n:"FactoryBlockComponent"};const l=(0,a.Fg)();return(0,I.jsx)(h.Z,{title:F(d.Ti.factory),theme:l,style:ae(o),created:r,deleted:!0,children:(0,I.jsx)($,{rootStore:i,blockValue:t})})}function ue(e){let{automation:t,blockPreviewLocation:o,created:r,deleted:i}=e;window.__c={n:"ButtonBlockComponent"};const l=(0,a.Fg)(),[s,c]=(0,n.VK)((()=>[t.getActionIds(),t.getProperties()]),[t]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(h.Z,{title:F(d.Ti.button),theme:l,style:ae(o),created:r,deleted:i,children:(null==c?void 0:c.name)??(0,I.jsx)(T.FormattedMessage,{defaultMessage:"Untitled",id:"edit.buttonBlock.defaultTitle"})}),(0,I.jsx)(T.FormattedMessage,{defaultMessage:"{numberOfActions, plural, one {{numberOfActions} workflow step} other {{numberOfActions} workflow steps}}",id:"edit.buttonBlock.actionCount",values:{numberOfActions:(s||[]).length}})]})}function he(e){let{blockValue:t,blockPreviewLocation:o,created:r,deleted:i,rootStore:l}=e;window.__c={n:"EquationBlockComponent"};const s=(0,a.Fg)();return(0,I.jsx)(h.Z,{title:F(d.Ti.equation),theme:s,style:ae(o),created:r,deleted:i,children:(0,I.jsx)($,{rootStore:l,blockValue:t})})}function be(e){let{blockValue:t,blockPreviewLocation:o,created:r,deleted:i,rootStore:s}=e;window.__c={n:"CodeBlockComponent"};const n=(0,a.Fg)();return(0,I.jsx)(h.Z,{title:q(t),theme:n,style:ae(o),created:r,deleted:i,children:(0,I.jsx)("span",{style:{fontFamily:V.Z.getCompositeFontFamily(l.SP).mono,fontSize:12,tabSize:2},children:(0,I.jsx)($,{rootStore:s,blockValue:t})})})}function me(e){let{blockValue:t,type:o,intl:i,blockPreviewLocation:l,created:s,deleted:n,rootStore:d}=e;window.__c={n:"EmbedBlockComponent"};const p=(0,a.Fg)();return(0,I.jsxs)(r.Fragment,{children:[(0,I.jsx)(h.Z,{title:c.xg(i,o),theme:p,style:ae(l),created:s,deleted:n,children:(0,I.jsx)(G,{blockValue:t})}),(0,I.jsx)("div",{style:{marginBottom:4},children:(0,I.jsx)(J,{rootStore:d,blockValue:t})})]})}function xe(e){let{blockValue:t,blockPreviewLocation:o,created:i,rootStore:l}=e;window.__c={n:"BookmarkBlockComponent"};const s=(0,a.Fg)(),n=X(t,"title")&&(0,I.jsx)(h.Z,{title:F(d.Ti.bookmark),theme:s,style:ae(o),created:i,children:(0,I.jsx)($,{rootStore:l,blockValue:t})});return(0,I.jsxs)(r.Fragment,{children:[n,X(t,"caption")&&(0,I.jsx)("div",{style:{marginBottom:n?4:0},children:(0,I.jsx)(J,{rootStore:l,blockValue:t})})]})}function ve(e){let{blockValue:t,created:o,blockPreviewLocation:r,deleted:i}=e;window.__c={n:"ExternalObjectInstanceBlockComponent"};const l=(0,a.Fg)(),s=(0,n.VK)((()=>k.kk.fromBlock(t)),[t]),d=(0,n.VK)((()=>c.$F(L.default.getIntl(),s,k.om.fromRecordMap(B.Z.getIntegrationsAsRecordMap()))),[s]);return(0,I.jsx)(h.Z,{title:(0,I.jsx)(T.FormattedMessage,{...c.V1.editLabel}),theme:l,created:o,style:ae(r),deleted:i,children:d})}function Se(e){let{blockValue:t,columnID:o,rootStore:r}=e;window.__c={n:"SimpleTableCellComponent"};const i=(0,a.Fg)(),l=(0,s.O7)(),c=(0,n.VK)((()=>A(t,o)),[t,o]),d=(0,n.VK)((()=>c&&c.length>0?_.g$.renderCellValueForActivity({environment:l,cellValue:c,spaceId:t.space_id,parentStore:r,theme:i}):(0,I.jsx)("span",{children:" "})),[c,t,r,i,l]);return(0,I.jsx)("td",{style:{border:`1px solid ${i.tableDividerColor}`,height:"100%"},children:(0,I.jsx)("div",{style:{overflowWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",width:"max-content",maxWidth:120,verticalAlign:"top",lineHeight:V.Z.lineHeight.UIRegular.desktop,padding:4},children:d})})}function ge(e){let{blockValue:t,deleted:o,blockPreviewLocation:r,intl:i,created:l,rootStore:s}=e;window.__c={n:"DriveBlockComponent"};const n=(0,a.Fg)(),c=(0,m.v0)(t);return c&&c.title?(0,I.jsx)("div",{children:(0,I.jsx)(h.Z,{title:(0,I.jsx)(T.FormattedMessage,{defaultMessage:"Google Drive file",id:"edit.googleDriveFile.label"}),created:!o,deleted:o,theme:n,style:ae(r),children:c.title})}):t.content?(0,I.jsx)(me,{intl:i,blockPreviewLocation:r,created:l,deleted:o,rootStore:s,blockValue:t,type:"drive"}):null}},14200:(e,t,o)=>{o.d(t,{Z:()=>F});o(57658);var r=o(67294),i=o(83355),l=o(480),s=o(86628),n=o(24405),a=o(80951),c=o(8848),d=o(40506),p=o(36591),u=o(65628),h=o(72126),b=o(21768),m=o(74446),x=o(21202),v=o(77420),S=o(23867),g=o(19889),k=o(97880),y=o(82990),f=o(9291),j=o(60682),w=o(14976),V=o(26136),T=o(39111),P=o(29302),L=o(89845),_=o(75561),B=o(54368),C=o(70693),R=o(4308),M=o(85893);function I(e){window.__c={n:"EditVerificationProperty"};const{textValue:t,rootStore:o}=e,i=(0,f.useIntl)(),l=(0,r.useMemo)((()=>{const e=a._w(t);return e?R.WN(e):{type:"none"}}),[t]),n=(0,s.VK)((()=>{if("none"!==l.type)return V.t1.createChildStore(o,l.actorPointer)}),[l,o]);if("none"===l.type)return(0,M.jsx)("span",{children:i.formatMessage(R.X3.none)});let c;return void 0===n?c=(0,M.jsx)(P.Z,{userStore:void 0,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):n.table===g.KJ?c=(0,M.jsx)(P.Z,{userStore:n,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):n.table===v.cZ?c=(0,M.jsx)(T.Z,{botStore:n,style:{display:"inline-flex",alignItems:"baseline"}}):n.table===B.y?c=(0,M.jsx)(P.Z,{userStore:void 0,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):(0,k.t1)(n),"verified"===l.type&&l.isIndefinite?(0,M.jsx)("div",{children:i.formatMessage(R.X3.verifiedIndefinitely,{actor:c})}):(0,M.jsx)("div",{children:i.formatMessage(R.X3.verifiedUntil,{actor:c,datetime:C.nK({dateTime:l.dateTimeRange.end,intl:i,displayInUserTimezone:!0})})})}class Z extends i.Z{constructor(){super(...arguments),this.renderRelation=(e,t)=>{const o=this.getPageTitle(e),{disableStyleAnnotations:r=!1,disableInsertedDeletedAnnotations:i=!1,disableDateStyleAnnotations:l=!1}=this.props;return(0,M.jsx)("div",{style:{maxWidth:180,...y.Z.textOverflowStyle},children:w.IY({environment:this.environment,textValue:{value:o,spaceId:(0,S.C)(e.spaceId)},parentStore:this.props.rootStore,disableHover:!0,disableStyleAnnotations:r,disableInsertedDeletedAnnotations:i,disableDateStyleAnnotations:l,disabled:!0,theme:this.theme,emojiType:(0,j.e_)(this.environment),katex:this.environment.KatexStore.getKatex(),formulaValueTypes:[]})},t)},this.getRecordModel=b.o.fromMonomorphicFunctionUnsafe((e=>this.getBlockStore(e.id).getRecordModel(e)),m.mF.fromMonomorphicFunctionUnsafe((e=>this.getBlockStore(e.id).getRecordValue(e)))),this.getRenderableTextValue=()=>{const{value:e,propertySchema:t}=this.props;if("text"===t.type||"title"===t.type)return e.value;if("relation"===t.type){const e=this.getRelationValue();if(!e)return;const t=e.map(this.getPageTitle);return h.xH(t)}},this.getPageTitle=e=>{const t=this.getBlockValue(e.id);return t&&(0,a.wS)(t,"title")||[]}}UNSAFE_willMountOrUpdate(){const{propertySchema:e}=this.props;"text"!==e.type&&"title"!==e.type&&"relation"!==e.type||this.environment.KatexStore.loadIfNeeded(this.getRenderableTextValue)}renderComponent(){const{value:e}=this.props,t=this.props.propertySchema.type;return"checkbox"!==t&&0===e.value.length?(0,M.jsx)(X,{}):"text"===t?(0,M.jsx)(G,{value:this.props.value,disableStyleAnnotations:!!this.props.disableStyleAnnotations,disableInsertedDeletedAnnotations:!!this.props.disableInsertedDeletedAnnotations,disableDateStyleAnnotations:!!this.props.disableDateStyleAnnotations,rootStore:this.props.rootStore}):"checkbox"===t?(0,M.jsx)(A,{value:this.props.value}):"multi_select"===t?(0,M.jsx)($,{propertySchema:this.props.propertySchema,value:this.props.value,rootStore:this.props.rootStore}):"select"===t?(0,M.jsx)(J,{propertySchema:this.props.propertySchema,value:this.props.value,rootStore:this.props.rootStore}):"status"===t?(0,M.jsx)(Q,{propertySchema:this.props.propertySchema,value:this.props.value,rootStore:this.props.rootStore}):"person"===t?(0,M.jsx)(N,{value:this.props.value,propertySchema:this.props.propertySchema,rootStore:this.props.rootStore}):"number"===t?(0,M.jsx)(D,{value:this.props.value}):"date"===t?(0,M.jsx)(z,{propertySchema:this.props.propertySchema,value:this.props.value}):"url"===t?(0,M.jsx)(K,{value:this.props.value}):"file"===t?(0,M.jsx)(H,{value:this.props.value}):"email"===t?(0,M.jsx)(U,{value:this.props.value}):"phone_number"===t?(0,M.jsx)(W,{value:this.props.value}):"title"===t?(0,M.jsx)(G,{value:this.props.value,disableStyleAnnotations:!!this.props.disableStyleAnnotations,disableInsertedDeletedAnnotations:!!this.props.disableInsertedDeletedAnnotations,disableDateStyleAnnotations:!!this.props.disableDateStyleAnnotations,rootStore:this.props.rootStore}):"created_time"===t?(0,M.jsx)(z,{propertySchema:this.props.propertySchema,value:this.props.value}):"created_by"===t?(0,M.jsx)(N,{value:this.props.value,propertySchema:this.props.propertySchema,rootStore:this.props.rootStore}):"relation"===t?this.renderRelationProperty():"auto_increment_id"===t?(0,M.jsx)(D,{value:this.props.value}):"verification"===t?(0,M.jsx)(O,{value:this.props.value,rootStore:this.props.rootStore}):"formula"===t||"rollup"===t||"last_edited_by"===t||"last_edited_time"===t||"last_visited_time"===t||"button"===t||"location"===t?null:void(0,k.t1)(t)}renderRelationProperty(){let e=this.getRelationValue();if(!e)return;if(e.length>5){const t=e.slice(5).length;return e=e.slice(0,5),(0,M.jsxs)("div",{children:[e.map(this.renderRelation),(0,M.jsx)("div",{style:{maxWidth:180,color:this.theme.mediumTextColor},children:(0,M.jsx)(f.FormattedMessage,{defaultMessage:"{leftoverCountNumber} more",id:"editProperty.relationEditedProperties.moreCount.label",values:{leftoverCountNumber:t}})})]})}return(0,M.jsx)("div",{children:e.map(this.renderRelation)})}getBlockStore(e){return V.G.createChildStore(this.props.rootStore,{table:x.iU,id:e})}getBlockValue(e){return this.getBlockStore(e).getValue()}getRelationValue(){if("relation"===this.props.propertySchema.type)return a.j$({relationValue:a.rq(this.props.value.value),getRecordModel:this.getRecordModel,propertySchema:this.props.propertySchema})}}Z.displayName="EditProperty";const F=Z;function A(e){let{value:t}=e;const o=a.Ml(t.value);return(0,M.jsx)("div",{style:{width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,backgroundColor:o?c.ZP.blue:c.ZP.transparent},children:o?(0,p.e)({fill:c.ZP.white,width:12,height:12}):(0,u.z)()})}function D(e){let{value:t}=e;const o=a.VY(t.value);return(0,M.jsx)("div",{children:o})}function z(e){let{propertySchema:t,value:o}=e;const r=t,i=a.Gl(o.value);return(0,M.jsx)(L.Z,{value:i,dateFormat:r.date_format||d.sF,timeFormat:r.time_format||d.c_,displayInUserTimezone:!0})}function K(e){let{value:t}=e;return(0,M.jsx)(M.Fragment,{children:a.zB(t.value)})}function H(e){let{value:t}=e;const o=a.g(t.value);return(0,M.jsx)("div",{style:{display:"inline-flex"},children:o.map(((e,t,o)=>{const r=o.length-1===t;return(0,M.jsx)(_.Z,{rightMargin:!r,children:e.url},t)}))})}function U(e){let{value:t}=e;const o=a.zB(t.value);return(0,M.jsx)("div",{children:o})}function W(e){let{value:t}=e;const o=a.zB(t.value);return(0,M.jsx)("div",{children:o})}function O(e){let{value:t,rootStore:o}=e;return(0,M.jsx)(I,{textValue:t.value,rootStore:o})}function q(e){let{userId:t,rootStore:o,isLast:r}=e;window.__c={n:"NotionUser"};const i=(0,s.VK)((()=>function(e,t){return V.U6.createChildStore(t,{table:g.KJ,id:e}).getValue()}(t,o)),[t,o]);return(0,M.jsx)("div",{style:{marginTop:4,marginRight:r?0:8},children:(0,M.jsx)(P.Z,{userValue:i,inline:!0,avatarSize:18,style:{fontSize:12},avatarShouldShowShadow:!0})})}function E(e){let{isLast:t,botId:o,rootStore:i}=e;window.__c={n:"BotUser"};const l=(0,r.useMemo)((()=>function(e,t){return V.Qx.createChildStore(t,{table:v.cZ,id:e})}(o,i)),[o,i]);return(0,M.jsx)("div",{style:{marginTop:4,marginRight:t?0:8},children:(0,M.jsx)(T.Z,{botStore:l})})}function N(e){let{value:t,propertySchema:o,rootStore:r}=e;const i=a.DW({textValue:t.value,propertySchema:o,blockCreatorPointer:void 0}),l=[];return i.forEach(((e,t)=>{const o=i.length-1===t;e.table===g.KJ?l.push((0,M.jsx)(q,{userId:e.id,rootStore:r,isLast:o},t)):l.push((0,M.jsx)(E,{botId:e.id,rootStore:r,isLast:o},t))})),(0,M.jsx)("div",{style:{display:"inline-flex"},children:l})}function X(){window.__c={n:"EmptyPropertyComponent"};const e=(0,n.Fg)();return(0,M.jsx)("div",{style:{color:e.mediumTextColor,fontSize:12},children:(0,M.jsx)(f.FormattedMessage,{defaultMessage:"Empty",id:"editProperty.emptyProperty.label"})})}function G(e){let{value:t,disableStyleAnnotations:o,disableInsertedDeletedAnnotations:r,disableDateStyleAnnotations:i,rootStore:a}=e;window.__c={n:"TextPropertyComponent"};const c=(0,n.Fg)(),d=(0,l.O7)(),p=(0,s.VK)((()=>w.IY({environment:d,textValue:t,parentStore:a,disableStyleAnnotations:o,disableInsertedDeletedAnnotations:r,disableDateStyleAnnotations:i,disableHover:!0,disabled:!0,theme:c,emojiType:(0,j.e_)(d),katex:d.KatexStore.getKatex(),formulaValueTypes:[]})),[d,t,a,c,o,r,i]);return(0,M.jsx)("span",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:p})}function $(e){let{propertySchema:t,value:o,rootStore:r}=e;const i=t.options||[],l=a.Ak(o.value);return(0,M.jsx)("div",{style:{display:"inline-flex"},children:l.map(((e,t,l)=>(0,M.jsx)(Y,{token:e,options:i,index:t,arr:l,rootStore:r,value:o},t)))})}function Y(e){let{token:t,options:o,index:r,arr:i,rootStore:l,value:a}=e;window.__c={n:"MultiSelectPropertyChild"};const d=(0,n.Fg)(),p=(o??[]).find((e=>e.value===t)),u=i.length-1===r,h=(0,c.KR)(d,null==p?void 0:p.color),b=(0,s.VK)((()=>t??w.Xh(a.value,l)),[t,a,l]);return(0,M.jsx)(_.Z,{...h,rightMargin:!u,children:b})}function J(e){let{propertySchema:t,value:o,rootStore:r}=e;window.__c={n:"SelectPropertyComponent"};const i=(0,n.Fg)(),l=t.options||[],d=a.Sj(o.value,l),p=(0,s.VK)((()=>d??w.Xh(o.value,r)),[d,o,r]),u=l.find((e=>e.value===d)),h=(0,c.KR)(i,null==u?void 0:u.color);return(0,M.jsx)("div",{style:{display:"inline-flex"},children:(0,M.jsx)(_.Z,{...h,children:p})})}function Q(e){let{propertySchema:t,value:o,rootStore:r}=e;window.__c={n:"StatusPropertyComponent"};const i=(0,n.Fg)(),l=t,d=a.yp(o.value,l),p=(0,s.VK)((()=>d??w.Xh(o.value,r)),[d,o,r]),u=(l.options??[]).find((e=>e.value===d)),h=(0,c.KR)(i,null==u?void 0:u.color);return(0,M.jsx)("div",{style:{display:"inline-flex"},children:(0,M.jsx)(_.Z,{...h,children:p})})}},75561:(e,t,o)=>{o.d(t,{Z:()=>l});o(67294);var r=o(82990),i=o(85893);function l(e){const{children:t,textColor:o,backgroundColor:l,rightMargin:s,strikethrough:n}=e;return(0,i.jsx)("div",{style:{backgroundColor:l,color:o,display:"inline-flex",alignItems:"center",fontSize:12,height:18,paddingLeft:8,paddingRight:8,borderRadius:4,marginRight:s?4:0,textDecoration:n?"line-through":void 0},children:(0,i.jsx)("span",{style:{...r.Z.textOverflowStyle},children:t})})}},42130:(e,t,o)=>{o.d(t,{v:()=>l});var r=o(8848),i=o(82990);class l{static getLabelStyle(e){return{fontSize:12,lineHeight:1,paddingTop:8,color:e.lightTextColor}}static getUserHeaderStyle(e){return{fontSize:12,color:e.mediumTextColor}}static getRoleStyle(){return{fontSize:14,whiteSpace:"nowrap"}}}l.wrapStyle={display:"flex",flexDirection:"column",justifyContent:"center",flexGrow:1,overflow:"hidden",fontSize:14,minHeight:29},l.headerStyle={fontWeight:i.Z.fontWeight.semibold},l.subHeaderStyle={fontWeight:i.Z.fontWeight.semibold},l.subSubHeaderStyle={fontWeight:i.Z.fontWeight.semibold},l.permissionStyle={display:"flex",flexDirection:"column",minHeight:28,paddingTop:4,paddingBottom:4},l.groupStyle={display:"flex",alignItems:"center",minHeight:28,fontSize:14,paddingTop:4,paddingBottom:4},l.permissionTypeWrapStyle={display:"flex",alignItems:"center",fontSize:14,marginRight:6,whiteSpace:"nowrap"},l.diffWrapStyle={display:"flex",alignItems:"center"},l.addedStyle={color:r.ZP.blue,backgroundColor:r.ZP.blueWithAlpha(.14)},l.deletedStyle={opacity:.4,marginBottom:6,textDecoration:"line-through"}},25501:(e,t,o)=>{o.d(t,{Z:()=>l});o(67294);var r=o(8848),i=o(85893);const l=function(e){const{children:t,created:o,deleted:l,style:s,theme:n,title:a}=e,c={boxShadow:`inset 0 0 0 1px ${n.regularDividerColor}`,borderRadius:4,padding:"6px 8px",fontSize:14,overflow:"hidden",flexGrow:1,marginTop:4,marginBottom:4,...o&&{color:r.ZP.diffTextColor,backgroundColor:r.ZP.diffBackground},...s},d={fontSize:12,lineHeight:1,marginTop:2,marginBottom:4,color:n.regularTextColor};return(0,i.jsxs)("div",{style:c,children:[(0,i.jsx)("div",{style:d,children:a}),(0,i.jsx)("div",{style:{...l&&{opacity:.4,marginBottom:6,textDecoration:"line-through"}},children:t})]})}}}]);
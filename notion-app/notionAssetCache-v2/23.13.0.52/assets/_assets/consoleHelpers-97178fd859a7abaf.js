"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4935],{50167:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});n(57658);var o=n(86433),r=n(78106),a=n(42875),i=n(24211),s=n(72126),l=n(11799),u=n(4615),c=n(606),d=n(98963),p=n(21202),g=n(6287),v=n(76462),f=n(15047),m=n(19889),b=n(92338),S=n(97880),y=n(54642),h=n(82530),_=n(37181),P=n(51560),k=n(18752),C=n(90025),w=n(85019),x=n(80444),D=n(77080),V=n(88923),I=n(26136),A=n(27724),R=n(7339),$=n(42198),T=n(97638);function M(e){let{environment:t,config:n}=e;const u=(e,n)=>{var o;const r=U(e,n),a=t.defaultRecordCache.inMemoryRecordCache.getRecord({pointer:r,userId:t.currentUser.id});if(void 0===(null==a?void 0:a.value))return`${r.table}: ${r.id}`;const i="type"in a.value?a.value.type:r.table;return"name"in(null==a?void 0:a.value)?`${i} ${a.value.id} ${a.value.name}`:"properties"in(null==a?void 0:a.value)&&(0,S.$K)(a.value.properties)&&"title"in a.value.properties&&(0,S.$K)(null==a?void 0:a.value.properties.title)?`${i} ${a.value.id} ${a.value.properties.title.join(" ").slice(0,30)}`:`${i} ${null==a||null===(o=a.value)||void 0===o?void 0:o.id}`},v=(e,n)=>{const o=U(e,n);return t.defaultRecordCache.inMemoryRecordCache.getRecord({pointer:o,userId:t.currentUser.id})},I=(e,t)=>{const n=U(e,t),o=v(e,t),r={title:u(e,t),raw:null==o?void 0:o.value,parent:void 0,id:n,children:[]};if(void 0!==(null==o?void 0:o.value)&&"parent_table"in(null==o?void 0:o.value)&&"parent_id"in(null==o?void 0:o.value)&&o.value.parent_id){var a,i;const e=U(null===(a=o.value)||void 0===a?void 0:a.parent_id,null===(i=o.value)||void 0===i?void 0:i.parent_table);r.parent=e}if(null!=o&&o.value&&"content"in(null==o?void 0:o.value)){var s;const e=(null==o||null===(s=o.value)||void 0===s?void 0:s.content)||[];for(const t of e){const e=U(t,"block"),o=v(t,"block"),a={title:u(t,"block"),raw:null==o?void 0:o.value,parent:n,id:e,children:[]};r.children.push(a)}}return r},M=(e,t)=>`${n.adminUrl}/__admin/${e}/${t}`,E=(e,t)=>{window.open(M(e,t))},F=()=>V.default.state.open?(console.warn("Returning peek view page, if you want the underlying page, please close it and try again"),V.default.state.target):x.default.state.mainEditorCurrentBlockStore?x.default.state.mainEditorCurrentBlockStore:void console.error("No current mainEditorCurrentBlockStore"),N=function(e){var n;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;const i="string"==typeof e?{query:{text:e,filters:(0,b.u4)(),sort:{field:"relevance"}},limit:20,debug:o}:e;return{environment:t,input:i,spaceId:null===(n=x.default.state.currentSpaceStore)||void 0===n?void 0:n.id,publicAccessPermissionAncestorBlockId:T.bC(t).publicAccessPermissionAncestorBlockId,searchExperimentOverrides:a,forcedClusterPattern:r,source:"debugging"}},j={id:"root0000-0000",table:"block"};return{getRecordFromApi:async(e,n)=>{var o,r;const a=U(e,n),i=[];i.push({pointer:a,version:-1});const s=await y.syncRecordValues(t,{requests:i},null===(o=x.default.state.currentUserStore)||void 0===o?void 0:o.id);return"success"===s.type?null===(r=s.data.recordMap[a.table])||void 0===r?void 0:r[a.id]:void 0},getRecordFromCache:v,getAdminUrl:M,getSelectedBlocks:()=>A.default.state.stores,openInAdmin:E,openSelectedBlocksInAdmin:()=>{if(0!==A.default.state.stores.length)return A.default.state.stores.forEach((e=>{E(p.iU,e.id)}));console.error("No selected block")},openCurrentPageCreatorInAdmin:()=>{var e;const t=(()=>{var e,t;const n=null===(e=F())||void 0===e?void 0:e.getCreatedById(),o=null===(t=F())||void 0===t?void 0:t.getCreatedByTable();if(n&&o)return v(n,o);console.error("no created_by_id or created_by_table for this page")})(),n=null==t||null===(e=t.value)||void 0===e?void 0:e.id;n?E(m.KJ,n):console.error("no current page Creator, not opening")},getCurrentPage:F,openCurrentPageInAdmin:()=>{var e;const t=null===(e=F())||void 0===e?void 0:e.id;t?E(p.iU,t):console.error("Not opening")},openCurrentSpaceInAdmin:()=>{x.default.state.currentSpaceStore?E(f.bx,x.default.state.currentSpaceStore.id):console.error("No current space")},quickFind:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;const r=N(e,t,n,o),a=T.MS(r);return a&&a.then((e=>"success"===e.type?e.data:e))},quickFindRequest:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return N(e,t,n,o)},quickFindCollections:async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",o=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const a="string"==typeof e?{query:{text:e,filters:(0,b.u4)(),sort:{field:"relevance"}},limit:20,debug:n}:e,i=x.default.state.currentSpaceStore,{query:s,limit:l}=a;if(!i)return;const u=y.search(t,{type:b.n8.CollectionsInSpace,query:s.text.trim(),spaceId:i.id,limit:l,filters:b.u4({excludeTemplates:!0,requireEditPermissions:!0}),sort:{field:"relevance"},debug:n,searchExperimentOverrides:r,forcedClusterPattern:o}),c=await u;return"success"===c.type?c.data:c},getCurrentPageDetail:()=>{var e;const t=null===(e=F())||void 0===e?void 0:e.id;if(t)return I(t,"block");console.error("Not opening")},getRecordDetail:I,getRecordTitle:u,getRecordTree:e=>{const t=new l.Z;e.map((e=>{const n=U(e.id,e.table),o=u(e.id,e.table),r=v(e.id,e.table),a={title:o,parent:(e=>{var t;if(void 0!==(null==e||null===(t=e.value)||void 0===t?void 0:t.parent_id))return U(e.value.parent_id,e.value.parent_table)})(r),id:n,raw:null==r?void 0:r.value,children:[]};t.set(n,a)}));const n={title:"root",parent:void 0,id:j,raw:void 0,children:[]};return e.map((e=>{const o=U(e.id,e.table),r=t.get(o);var a;void 0!==(null==r?void 0:r.parent)&&t.has(r.parent)?null===(a=t.get(r.parent))||void 0===a||a.children.push(r):void 0!==r?n.children.push(r):n.children.push({title:"Failed to load Record",parent:void 0,id:o,raw:void 0,children:[]})})),n},overrideStatsigLocalExperiment:(e,t)=>{const n="Failed to override Statsig local experiment";if(!D.default.isStatsigEnabled()||!R.C.isInitialized())return console.error(n),!1;try{return R.C.updateLocalOverrideConfig(e,t),!0}catch(o){return console.error(n),!1}},overrideStatsigLocalFeatureGate:(e,t)=>{const n="Failed to override Statsig local feature gate";if(!D.default.isStatsigEnabled()||!R.C.isInitialized())return console.error(n),!1;try{return R.C.updateLocalOverrideGate(e,t),!0}catch(o){return console.error(n),!1}},removeAllStatsigLocalOverrides:()=>{const e="Failed to remove all Statsig local overrides";if(!D.default.isStatsigEnabled()||!R.C.isInitialized())return console.error(e),!1;try{return R.C.removeAllLocalOverrides(),!0}catch(t){return console.error(e),!1}},getCurrentSpaceId:()=>{var e;return null===(e=F())||void 0===e?void 0:e.getSpaceId()},getCurrentUserId:()=>{var e;return null===(e=x.default.state.currentUserStore)||void 0===e?void 0:e.id},getAutomationsForSelectedBlocks:()=>A.default.state.stores.map((e=>O(e,0))).filter(S.$K),getAutomationsForCurrentPage:()=>{const e=F();if(e)return O(e,0)},debugCompileAutomation:(e,t)=>{const n=F();if(!n)return;const s=n.getRecordModel,l=n.loadRecordModel,u=s({id:e,spaceId:n.getSpaceId(),table:d.cv});if(!u)return;const p=u.getActionPointers().map((e=>s(e))).filter(S.$K);if(p.length!==u.getActionIds().length)return;const v={automationModel:u,actionModels:p,handleDataRequest:(0,r.yf)(s,l),intl:(0,i.vc)(),getRecordModel:s,loadRecordModel:l,userTimeZone:(0,a.r)()};let f;if("button_property"===t){const e=u.getParentPointer();if(e.table!==g.v)return;f={...v,collectionPointer:c.dr.fromSpaceShardRecordId({id:e.id,spaceId:u.getSpaceId()},g.v),contextType:t}}else if("button_block"===t){const e=n.getAssociatedCollectionStore();f={...v,collectionPointer:null==e?void 0:e.getSpaceShardedPointer(),contextType:t}}else"event"===t?f={...v,collectionPointer:c.dr.fromSpaceShardRecordId({id:u.getParentPointer().id,spaceId:u.getSpaceId()},g.v),contextType:t}:"structured_automation"===t||"recurrence"===t?f={...v,contextType:t}:(0,S.t1)(t);return(0,o.rS)(f)},generateTutorialData:(e,t,o)=>{const r=n.env;if("development"!==r&&"local"!==r)return;const a=o??x.default.state.mainEditorCurrentBlockStore,i=null==a?void 0:a.getType(),l=null==a?void 0:a.getProperties(),u=null==a?void 0:a.getFormat();if(!(a&&i&&l&&u))return void console.log(`Missing one of these: ${JSON.stringify({rootBlockStore:a,type:i,properties:l,format:u})}`);const c=[{uri:e,type:"block",parentUri:t,parentType:"collection",blockValue:{type:i,properties:l,format:u}},...function e(t,n){const o=n.getContentStores();return s.xH(o.map(((n,o)=>{const r=n.getType(),a=n.getProperties(),i=n.getFormat();if(!r||!a||!i)return;return[{uri:`${t}/${o}`,type:"block",parentUri:t,parentType:"block",blockValue:{type:r,properties:a,format:i}},...e(`${t}/${o}`,n)]}))).filter(S.$K)}(e,a)];function d(t){const n=t.replace(e,"").split("/");return s.eV(e)+n.join("_")}const p={},g=c.map((t=>{const n=t.uri;return JSON.stringify(t,((o,r)=>{if("uri"===o||"parentUri"===o)return["<<<START>>>","`",r.replace(e,"${uri}"),"`","<<<END>>>"].join("");if("title"===o&&Array.isArray(r)&&"image"!==t.blockValue.type){const e=[];for(const[t,o]of r.entries()){if(o.length>1&&"a"===o[1][0][0])return o;const r=d(`${n}/${t}`),a=[["<<<START>>>",`LocalizationHelper.formatMessage(messages.${r})`,"<<<END>>>"].join(""),...o.slice(1)];p[r]={defaultMessage:o[0],id:r},e.push(a)}return e}return r}))})).map((e=>e.replace(/"<<<START>>>/g,"").replace(/<<<END>>>"/g,"").replace(/<<<QUOTE>>>/g,'"')));return`\n\t\t\tconst messages = defineMessages({\n\t\t\t\t${(0,S.qP)(p).map((e=>{let[t,n]=e;return`"${t}": {\n\t\t\t\t\t\t\t\t\tid: "${n.id}",\n\t\t\t\t\t\t\t\t\tdefaultMessage: \`${n.defaultMessage}\`,\n\t\t\t\t\t\t\t\t\tdescription: "${n.description}",\n\t\t\t\t\t\t\t\t}`})).join(",\n")}\n\t\t\t})\n\t\t\tconst uri = "${e}"\n\t\t\treturn [\n\t\t\t\t${g.join(", ")}\n\t\t\t]`},setHomeTemplatesPersona:e=>{const t=[...P.az.map((e=>({personaValue:{type:"function",persona:e},key:`function - ${e}`}))),...P.ml.map((e=>({personaValue:{type:"space_intent",persona:e},key:`space_intent - ${e}`}))),...P.GK.map((e=>({personaValue:{type:"space_type",persona:e},key:`space_type - ${e}`})))],n=t.find((t=>t.key===e));n?k.Z.setState(n.personaValue):console.error("input must be one of the following values",t.map((e=>e.key)))},setHomeTipsUserType:e=>{const t={isMultiplayer:e.isMultiplayer??!1,isNewAccount:e.isNewAccount??!1,userType:e.userType??"personal",persona:e.persona};C.Z.setState(t)},resetQnAOnboarding:()=>{const e=x.default.state.currentUserSettingsStore;e?h.createAndCommit({userAction:"debuggingHelpers.clearQnAOnboarding",environment:t,userId:e.id,perform:t=>{_.d2({userSettingsStore:e,data:{ai_qna_intro_onboarding_phase:void 0,last_exposed_to_ai_qna_at:void 0,qna_reminders_shown_at:void 0},transaction:t})}}):console.error("Could not find current user settings")},resetNotionCalendarOnboarding:()=>{const e=x.default.state.currentUserSettingsStore;e?h.createAndCommit({userAction:"debuggingHelpers.clearNotionCalendarOnboarding",environment:t,userId:e.id,perform:t=>{_.d2({userSettingsStore:e,data:{notion_calendar_launch_modal_phase:null},transaction:t})}}):console.error("Could not find current user settings")},getAllUserSignals:()=>{var e,t,n,o,r,a;const i=null===(e=x.default.state.currentSpaceStore)||void 0===e?void 0:e.getSpaceId(),s=null===(t=x.default.state.currentUserStore)||void 0===t?void 0:t.userId;if(!i||!s)return;const l=$.default.getUserSignals({spaceId:i,userId:s});return{similarUser1dRecentPages:[...(null==l||null===(n=l.similarUserRecentPages)||void 0===n||null===(n=n.pagesMetadata)||void 0===n?void 0:n.keys())||[]].map((e=>{var t;const n=null==l||null===(t=l.similarUserRecentPages)||void 0===t?void 0:t.pagesMetadata.get(e);return{...n,users:null==n?void 0:n.userIds.map((e=>I(m.KJ,e))),mostSimilarUser:I(m.KJ,null==n?void 0:n.mostSimilarUser),page:I(p.iU,e)}})),topPages7dPageView:[...(null==l||null===(o=l.topPages7dPageView)||void 0===o?void 0:o.keys())||[]].map((e=>{var t;return{pageAuthority:null==l||null===(t=l.topPages7dPageView)||void 0===t?void 0:t.get(e),record:I("block",e)}})),editedPages1d:[...(null==l||null===(r=l.editedPages1d)||void 0===r?void 0:r.keys())||[]].map((e=>{var t;return{editedAt:null==l||null===(t=l.editedPages1d)||void 0===t?void 0:t.get(e),record:I("block",e)}})),similarUsersEditedPages1d:[...(null==l||null===(a=l.similarUsersEditedPages1d)||void 0===a?void 0:a.keys())||[]].map((e=>{var t;return{editedAt:null==l||null===(t=l.similarUsersEditedPages1d)||void 0===t?void 0:t.get(e),record:I("block",e)}})),allSignals:l}},loadAllUserSignals:()=>{var e,n;const o=null===(e=x.default.state.currentSpaceStore)||void 0===e?void 0:e.getSpaceId(),r=null===(n=x.default.state.currentUserStore)||void 0===n?void 0:n.userId;o&&r&&$.default.initializeAndLoadAllUserSignals({spaceId:o,userId:r,environment:t})},getLocalSearchableCache:async()=>{const{currentSpaceStore:e,currentSpaceViewStore:n}=x.default.state;if(e){const o=await(0,w.S)({environment:t,currentSpaceStore:e,currentSpaceViewStore:n,excludeCurrentPage:!1}),r=new Map;return o.getAllBlocks().forEach((e=>{e.block.source.forEach((t=>{const n=r.get(t)||[];n?r.set(t,[...n,e.block]):r.set(t,[e.block])}))})),{...o,groupedPages:r}}},saveFileFromOpfs:async e=>{const t=await(await(await navigator.storage.getDirectory()).getFileHandle(e)).getFile(),n=document.createElement("a");n.href=URL.createObjectURL(t),n.download=e,n.click()}}}function U(e,t){return"string"==typeof e&&"string"==typeof t?Object.keys(v.OC).includes(e)?{table:e,id:(0,u.xP)(t)||t}:{table:t,id:(0,u.xP)(e)||e}:"string"!=typeof e||t?"object"==typeof e?e:t:{table:"block",id:(0,u.xP)(e)||e}}function E(e,t){if(t>20)return[];const n=[],o=(null==e?void 0:e.getAutomationStores())??[];n.push(...o.map((e=>F(e))).filter(S.$K));const r=(null==e?void 0:e.getTemplatePageStores())??[];for(const i of r){const e=i.getAutomationStore();if(e){const t=F(e);t&&n.push(t)}n.push(...O(i,t+1))}const a=e.getSchema();for(const i of Object.values(a))if("button"===(null==i?void 0:i.type)&&(0,S.$K)(i.automation_id)){const t=F(I.Mz.createChildStore(e,{id:i.automation_id,spaceId:e.getSpaceId(),table:d.cv}));t&&n.push(t)}return n}function O(e,t){if(t>20)return[];const n=[],o=e.getContentStores();for(const r of o){const e=r.getAutomationStore();if(e){const t=F(e);t&&n.push(t)}if(r.isCollectionView()){const e=r.getCollectionStore();e&&n.push(...E(e,t+1))}n.push(...O(r,t+1))}return n}function F(e){if(!e)return;const t=(null==e?void 0:e.getActionStores())??[],n=null==e?void 0:e.getCreatedByPointer(),o=(null==n?void 0:n.table)===m.KJ&&(null==e?void 0:e.getRecordModel(n));return o?{automation:e,actions:t,createdBy:o,parent:e.getParentBlockStore()}:void 0}},50479:(e,t,n)=>{n.r(t),n.d(t,{loadConsoleHelpers:()=>r});var o=n(95477);async function r(e){const{transactionQueue:t,environment:r}=e,a=await Promise.resolve().then(n.bind(n,88923)),i=await Promise.resolve().then(n.bind(n,86486)),[s,{default:l},{default:u},{default:c},{subscriptionDataStoreInstance:d},{default:p},{default:g},{initialize:v},f,m,b]=await Promise.all([Promise.resolve().then(n.bind(n,92595)),Promise.resolve().then(n.bind(n,80444)),Promise.resolve().then(n.bind(n,27724)),Promise.resolve().then(n.bind(n,24666)),Promise.resolve().then(n.bind(n,88280)),Promise.resolve().then(n.bind(n,58455)),Promise.resolve().then(n.bind(n,77080)),Promise.resolve().then(n.bind(n,44198)),Promise.resolve().then(n.bind(n,48317)),Promise.resolve().then(n.bind(n,27370)),Promise.resolve().then(n.bind(n,45428))]);v(r);const S=await Promise.resolve().then(n.bind(n,54642)),[y]=await Promise.all([Promise.resolve().then(n.t.bind(n,73935,19))]);s.exposeDebugValue("environment",r),s.exposeDebugValue("api",S),s.exposeDebugValue("AppStore",l),s.exposeDebugValue("PeekStore",a),s.exposeDebugValue("SelectionStore",u),s.exposeDebugValue("TextSelectionStore",c),s.exposeDebugValue("performanceHelpers",f),s.exposeDebugValue("SubscriptionDataStore",d),s.exposeDebugValue("config",o.default),s.exposeDebugValue("AnalyticsStore",p),s.exposeDebugValue("ExperimentStore",g),s.exposeDebugValue("defaultRecordCache",r.defaultRecordCache),s.exposeDebugValue("SelectableHoverMenuStore",i),s.exposeDebugValue("ReactDOM",y);const[{default:h},{default:_},{default:P},{default:k},{default:C},{default:w},{default:x},{default:D},{default:V},{sidebarOpenStore:I},{default:A},{default:R}]=await Promise.all([Promise.resolve().then(n.bind(n,16772)),Promise.resolve().then(n.bind(n,70354)),Promise.resolve().then(n.bind(n,55320)),Promise.resolve().then(n.bind(n,30857)),Promise.resolve().then(n.bind(n,75538)),Promise.resolve().then(n.bind(n,1302)),Promise.resolve().then(n.bind(n,50167)),Promise.resolve().then(n.bind(n,42198)),Promise.resolve().then(n.bind(n,77999)),Promise.resolve().then(n.bind(n,38676)),Promise.resolve().then(n.bind(n,69784)),Promise.resolve().then(n.bind(n,45325))]);s.exposeDebugValue("CompletionsStore",h),s.exposeDebugValue("RevisionStore",_),s.exposeDebugValue("RenderQueue",w),s.exposeDebugGetter("LocalTransactionQueue",(()=>t)),s.exposeDebugValue("SearchMenuStore",P),s.exposeDebugValue("SearchSessionMetricsStore",k),s.exposeDebugValue("OnboardingStore",C),s.exposeDebugValue("debugging",x({environment:r,config:o.default})),s.exposeDebugValue("resetTutorials",(()=>{m.resetTutorials(r)})),s.exposeDebugValue("UserSignalsStore",D),s.exposeDebugValue("SidebarTourStore",V),s.exposeDebugValue("notification",b),s.exposeDebugValue("sidebarOpenStore",I),s.exposeDebugValue("RectangularSelectionStore",A),s.exposeDebugValue("NotificationInboxPanelStore",R);(await Promise.resolve().then(n.bind(n,36769))).setEnvironment(r),n.e(7218).then(n.bind(n,57218)),n.e(6193).then(n.bind(n,98380)),n.e(959).then(n.bind(n,90959)),n.e(4487).then(n.bind(n,54487))}},35868:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(49085);class r extends o.default{getInitialState(){return{open:!1}}}const a=new r},44198:(e,t,n)=>{n.r(t),n.d(t,{initialize:()=>l});var o=n(92595),r=n(75233),a=n(79420),i=n(88536),s=n(35868);function l(e){o.exposeDebugValue("RecordSubscriptions",a.Z),o.exposeDebugValue("RecordEvictor",r.Z),o.exposeDebugValue("messageStoreDiagnosticPing",(()=>(0,i.cO)({environment:e,logToConsole:!0}))),o.exposeDebugGetter("messageStoreStatistics",(()=>(0,i.ZN)(Date.now()))),o.exposeDebugValue("toggleMessageStoreDebugPanel",(()=>{s.Z.setState({open:!s.Z.state.open})})),o.exposeDebugValue("recordMessageStoreConnectionCounters",(e=>{if(!e)return void console.error("Please provide an amount of time in ms as an argument.");const t=(0,i.mb)();console.log(`Recording connection counter changes in the next ${e} ms.`),window.setTimeout((()=>{const e=(0,i.C$)(t);e?console.log("Connection counters delta:",e):console.log("Connection was reset since recording started.")}),e)}))}},45428:(e,t,n)=>{n.r(t),n.d(t,{getNotificationValues:()=>u,getState:()=>l,setState:()=>s});var o=n(70921),r=n(65311),a=n(80444);let i={};function s(e){i={...i,...e}}function l(){return i}function u(){const e=i.result;if(!e)return null;const t=a.default.state.currentSpaceStore;return t?e.map((e=>{const n={table:r.uX,id:e,spaceId:t.getSpaceId()},a=t.getRecordValue(n),i=null==a?void 0:a.activity_id;if(i&&a){const e={table:o.TY,id:i,spaceId:t.getSpaceId()};a.activity=t.getRecordValue(e)}return a})):null}},51560:(e,t,n)=>{n.d(t,{DW:()=>f,GK:()=>s,Ju:()=>y,NZ:()=>l,az:()=>a,ml:()=>i});n(57658);var o=n(97880),r=n(80444);const a=["creative","internal_communication","eng","product_design","project_or_program_management","product","marketing","sales_or_success","support","finance","hr","it_admin","knowledge_management","operations","educator","student"],i=["life","work","school"],s=["singleplayer","multiplayer"];function l(e){let{userPersonaValue:t,userUseCases:n,spaceSurveyData:r,spaceModel:a}=e;const i=[g(t),...v({userUseCases:n}),...m({spaceSurveyData:r}),b({workspaceType:d({spaceModel:a})})].filter(o.$K);let s;for(const o of i)s=s?c(s,o):o;return void 0===s?{type:"space_type",persona:"singleplayer"}:s}const u={space_type:0,space_intent:1,function:2};function c(e,t){return u[e.type]>=u[t.type]?e:t}function d(e){let{spaceModel:t}=e;if(!t)return"singleplayer";const n=t.getMembers().length;return n<=1?"singleplayer":n<10?"multiplayer_small":"multiplayer"}const p={student:{type:"function",persona:"student"},educator:{type:"function",persona:"educator"},creative:{type:"function",persona:"creative"},finance:{type:"function",persona:"finance"},internalCommunication:{type:"function",persona:"internal_communication"},projectProgramMgmt:{type:"function",persona:"project_or_program_management"},itAdmin:{type:"function",persona:"it_admin"},knowledgeManagement:{type:"function",persona:"knowledge_management"},marketing:{type:"function",persona:"marketing"},eng:{type:"function",persona:"eng"},programmer:{type:"function",persona:"eng"},hr:{type:"function",persona:"hr"},hr_recruiting:{type:"function",persona:"hr"},product:{type:"function",persona:"product"},product_manager:{type:"function",persona:"product"},productDesign:{type:"function",persona:"product_design"},designer:{type:"function",persona:"product_design"},marketing_sales:{type:"function",persona:"sales_or_success"},sales:{type:"function",persona:"sales_or_success"},support:{type:"function",persona:"support"},customer_support:{type:"function",persona:"support"},operations_hr:{type:"function",persona:"operations"},operations:{type:"function",persona:"operations"},personal:{type:"space_intent",persona:"life"},media:void 0,entrepreneur:void 0,freelancer:void 0,founderCeo:void 0,other:void 0,unfilled:void 0};function g(e){return e?p[e]:void 0}function v(e){let{userUseCases:t}=e;const n=[];for(const r of t??[])switch(r){case"personal_notes_to_dos":n.push({type:"space_intent",persona:"life"});continue;case"team_docs_knowledge_base":case"team_project_management":n.push({type:"space_intent",persona:"work"});continue;case"ai":case"docs":case"wikis":case"notes":case"project":case"goals":case"ai":case"other":continue;default:(0,o.t1)(r)}return n}function f(e){var t;let{spaceSurveyData:n}=e;const r=null==n||null===(t=n.intent)||void 0===t?void 0:t.value;if(r)switch(r){case"personal":case"life":return"life";case"team":case"work":return"work";case"school":return"school";default:(0,o.t1)(r)}}function m(e){let{spaceSurveyData:t}=e;const n=[],r=f({spaceSurveyData:t});if(r&&n.push({type:"space_intent",persona:r}),null!=t&&t.use_cases)for(const a of t.use_cases.value)switch(a){case"personal_notes_to_dos":n.push({type:"space_intent",persona:"life"});continue;case"team_docs_knowledge_base":case"team_project_management":n.push({type:"space_intent",persona:"work"});continue;case"ai":case"docs":case"wikis":case"notes":case"project":case"goals":case"ai":case"other":continue;default:(0,o.t1)(a)}return n}function b(e){let{workspaceType:t}=e;if(!t)return;return S({workspaceType:t})?{type:"space_type",persona:"multiplayer"}:{type:"space_type",persona:"singleplayer"}}function S(e){let{workspaceType:t}=e;switch(t){case"multiplayer":case"multiplayer_small":return!0;case"singleplayer":return!1;default:(0,o.t1)(t)}}function y(){const{currentSpaceStore:e}=r.default.state;return S({workspaceType:d({spaceModel:null==e?void 0:e.getModel()})})}},18752:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(49085);class r extends o.default{getInitialState(){}}const a=new r},90025:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(49085);class r extends o.default{getInitialState(){}}const a=new r},30857:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var o=n(49085);class r extends o.default{getInitialState(){return{selectedQueryResult:!1,numKeystrokes:0,numServerRequests:0,numLocalRequests:0,hadMetaClick:!1,firstKeyStrokeTimeMs:void 0}}}const a=new r}}]);
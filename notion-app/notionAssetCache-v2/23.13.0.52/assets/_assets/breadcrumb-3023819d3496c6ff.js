"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[5548],{2517:(e,t,r)=>{r.r(t),r.d(t,{default:()=>se});var i=r(67294),n=r(480),s=r(86628),o=r(24405),a=r(82990),l=r(94841),c=r(80444),d=r(28020),u=r(98165),h=r(95697),x=r(26136),m=r(9291),g=r(64921),f=r(31945),p=r(78140),v=r(32163),b=r(40721),j=r(89728),M=r(87279),w=r(87686),y=r(15145),C=r(75754),W=r(11470),k=r(72495),P=r(73744),Z=r(35683),S=r(85893);const V=function(e,t){return[{key:"results",render:e=>(0,S.jsx)(k.Z,{...e}),items:t.map(((t,r)=>({key:t.id,render:e=>(0,S.jsx)(W.Z,{...e,isSubpage:0!==r,store:t,hidePath:!0}),action:r=>{let{event:i}=r;const n=P.DJ(i);t instanceof x.G&&C._({environment:e,store:t,openInNew:n,visitType:Z.vu.Link,pageVisitSource:y.tY.Breadcrumb})}})))}]};const R=function(e){window.__c={n:"BreadcrumbBlocksAsPopup"};const{isMobile:t,stores:r}=e,i=(0,n.O7)(),s={display:"flex",alignItems:"center",flexShrink:0};return(0,S.jsx)(f.ZP,{popupType:t?f.Z4.SlideUp:f.Z4.Popup,renderOrigin:e=>t?(0,S.jsxs)(g.Z,{style:{...s},mobileFeedback:!0,...e,children:[(0,S.jsx)(w.f,{}),(0,S.jsx)("div",{style:{marginLeft:8,marginRight:8},children:"..."}),(0,S.jsx)(w.f,{})]}):(0,S.jsxs)("div",{style:s,children:[(0,S.jsx)(j.Z,{isSmall:!0,...e,children:"..."}),(0,S.jsx)(w.f,{})]}),render:e=>{let n;return n=t?{menuType:M.og.Modal,title:(0,S.jsx)(m.FormattedMessage,{defaultMessage:"Breadcrumb",id:"breadcrumb.mobileBreadcrumbMenu.title"}),right:(0,S.jsx)(b.DoneMenuText,{}),onClickRight:e.close}:{menuType:M.og.Popup,width:240},(0,S.jsx)(p.Z,{...n,children:(0,S.jsx)(v.Z,{type:v.i.Vertical,onAccept:e.close,initialFocus:void 0,sections:V(i,r)})})}})};var B=r(7692),_=r(24946);function K(e){const{ancestorMaxWidth:t,showDivider:r,store:i}=e;return i instanceof x.zX?(0,S.jsx)(_.Z,{store:i,showDivider:r,maxWidth:t}):(0,S.jsx)(B.Z,{store:i,showDivider:r,maxWidth:t})}function T(e){window.__c={n:"BreadcrumbAncestors"};const{ancestorMaxWidth:t,isMobile:r,homeStore:i,store:n,maxAncestorCount:o}=e,[a,l]=(0,s.VK)((()=>{const e=u.uJ(n),t=n.isNavigableBlock()?e.slice(1):[...e];return t.reverse(),e.reverse(),[t,e]}),[n]),c=(0,s.VK)((()=>(0,d.qG)(n.id)),[n]),m=(0,s.VK)((()=>h.bq()),[]);if(c&&void 0!==i)return(0,S.jsx)(K,{ancestorMaxWidth:t,showDivider:!0,store:i},i.id);if(a.length>o){const[e,i,n]=[a[0],a.slice(1,a.length-o+1),a.slice(a.length-o+1)];if(m)return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(K,{ancestorMaxWidth:t,showDivider:!r,store:e},e.id),(0,S.jsx)(R,{isMobile:r,stores:r?l:i},"pages-popup"),n.map((e=>e instanceof x.zX?(0,S.jsx)(_.Z,{store:e,showDivider:!0,maxWidth:t},e.id):(0,S.jsx)(B.Z,{store:e,showDivider:!0,maxWidth:t},e.id)))]});{const e=a.filter((e=>e instanceof x.G)),i=a.filter((e=>e instanceof x.G));return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(B.Z,{store:e[0],showDivider:!r,maxWidth:t},e[0].id),(0,S.jsx)(R,{isMobile:r,stores:r?i:e.slice(1,e.length-o+1)},"pages-popup"),e.slice(e.length-o+1).map((e=>(0,S.jsx)(B.Z,{store:e,showDivider:!0,maxWidth:t},e.id)))]})}}return(0,S.jsx)(S.Fragment,{children:a.map((e=>(0,S.jsx)(K,{ancestorMaxWidth:t,showDivider:!0,store:e},e.id)))})}var D=r(50906),O=r(52771),I=r(31278),F=r(76798),L=r(45010),N=r(88923),A=r(46837),E=r(25238);const z=function(e){window.__c={n:"BreadcrumbReadOnlyPage"};const{ancestorMaxWidth:t,ignoreMaxLength:r,showDivider:i,store:n}=e,a=(0,s.VK)((()=>(0,l.WE)(n)),[n]),c=(0,o.yK)((()=>({homeBreadCrumbWrapper:{marginLeft:-4},wrapper:{display:"flex",alignItems:"center",flexShrink:1,marginLeft:6,minWidth:0,maxWidth:r?void 0:"100%"}})),[r]);return a?(0,S.jsx)("div",{style:c.homeBreadCrumbWrapper,children:(0,S.jsx)(A.Z,{})}):(0,S.jsxs)("div",{style:c.wrapper,children:[(0,S.jsx)(E.Z,{store:n,maxWidth:t,ignoreMaxLength:r}),i&&(0,S.jsx)(w.f,{})]})};function H(e,t,r,n){return(0,i.useCallback)((()=>{const i=N.default.isCenterPeekOpen()?L.Z.PeekViewScroller:L.Z.PageScroller;if(i&&!i.atScrollStart())return i.scrollToTop({animate:!0}),void D.Opj(e);const s=n.canEdit(),o=n.isLocked(),a=n.getCollectionViewCollectionStore(),l=null==a?void 0:a.isSyncedCollection(),c=n.isExternalObjectInstancePageBlockStore();if(t||N.default.isCenterPeekOpen()||!r||!s||o||c||l)return;const d=r.current;if(!d)return;if(!(d instanceof Element))return;const u=d.getBoundingClientRect();O.$({blockStore:n,originRect:u}),D.VaH(e)}),[e,t,r,n])}function q(e,t){window.__c={n:"BreadcrumbCurrentPageWithControlsWithRef"};const{currentPageMaxWidth:r,isMobile:i,currentPageRef:o,store:a}=e,l=(0,n.O7)(),c=(0,s.VK)((()=>(0,d.qG)(a.id)),[a]),u=(0,s.VK)((()=>a.isEmptyPage()),[a]),h=(0,s.VK)((()=>a.getIcon()),[a]),x=i?24:20,m=H(l,i,o,a);return(0,S.jsxs)(j.Z,{shouldShrink:!0,onClick:m,isSmall:!0,ref:t,disabled:c,children:[Boolean(h)&&(0,S.jsx)(I.Z,{disabled:!0,icon:h,isEmptyPage:u,size:x,style:{marginRight:6},largeIcon:!0}),(0,S.jsx)(F.Z,{store:a,style:{maxWidth:r},enableHover:!0})]})}const G=(0,i.forwardRef)(q);function U(e){window.__c={n:"BreadcrumbCurrentPage"};const{ancestorMaxWidth:t,isMobile:r,currentPageRef:i,store:o}=e,a=(0,n.O7)(),{mobileNative:c}=a,d=(0,s.VK)((()=>(0,l.WE)(o)),[o]),x=(0,s.VK)((()=>(0,h.QI)("dev_only")),[]),m=H(a,r,i,o),g=(0,s.VK)((()=>{const e=u.uJ(o);return 0===(o.isNavigableBlock()?e.slice(1):[...e]).length}),[o]),f=(0,s.VK)((()=>d),[d]);return d&&x?null:r?(0,S.jsx)(j.Z,{shouldShrink:!0,onClick:m,disabled:f,isSmall:!0,style:null!=c&&c.supportsNativeHomeOnPhone()?{paddingLeft:0}:void 0,children:(0,S.jsx)(z,{store:o,showDivider:!1,ignoreMaxLength:g,ancestorMaxWidth:t})}):(0,S.jsx)(j.Z,{shouldShrink:!0,onClick:m,disabled:f,isSmall:!0,style:{fontSize:"inherit"},children:(0,S.jsx)(z,{store:o,showDivider:!1,ancestorMaxWidth:t})})}function J(e){window.__c={n:"BreadcrumbCurrentPageThatOpensBreadcrumbs"};const{ancestorMaxWidth:t,store:r}=e,i=(0,n.O7)(),o={display:"flex",alignItems:"center",flexShrink:0},a=(0,s.VK)((()=>{const e=u.uJ(r);return e.reverse(),e}),[r]);return(0,S.jsx)(f.ZP,{popupType:f.Z4.SlideUp,renderOrigin:e=>(0,S.jsx)(g.Z,{style:{...o,maxWidth:"100%"},mobileFeedback:!0,...e,children:(0,S.jsx)(z,{store:r,showDivider:!1,ignoreMaxLength:!0,ancestorMaxWidth:t})}),render:e=>{const t={menuType:M.og.Modal,title:(0,S.jsx)(m.FormattedMessage,{defaultMessage:"Breadcrumb",id:"breadcrumb.mobileBreadcrumbMenu.title"}),right:(0,S.jsx)(b.DoneMenuText,{}),onClickRight:e.close};return(0,S.jsx)(p.Z,{...t,children:(0,S.jsx)(v.Z,{type:v.i.Vertical,onAccept:e.close,initialFocus:void 0,sections:V(i,a)})})}},"pages-popup")}var Q=r(73935),X=r(42853),$=r(16184),Y=r(72141),ee=r(11302),te=r(26388),re=r(4023),ie=r(35057);function ne(e){window.__c={n:"BreadcrumbMoveTo"};const{store:t}=e,r=(0,n.O7)(),a=(0,s.VK)((()=>{if(!(0,h.bq)())return!1;if(!(0,ie.mq)())return!1;const{currentSpaceViewStore:e}=c.default.state,i=null==e?void 0:e.getPrivatePages(r);return null==i?void 0:i.some((e=>e.id===t.id))}),[r,t]),l=(0,s.VK)((()=>{const e=r.currentUser.id;return t.getPermissionItems().every((t=>(0,Y.jg)(t)&&e===t.user_id))}),[r,t]),d=(0,o.Fg)(),u=(0,i.useRef)(null),x=(0,i.useCallback)((()=>{if(!u)return;const e=Q.findDOMNode(u.current);if(!(e&&e instanceof Element))return;const i=e.getBoundingClientRect(),n=new DOMRect(i.x,i.y,i.width,i.height+5);D.Fo$(r),ee.bA({environment:r,blocks:[t],originRect:n,moveToContext:"topbar_breadcrumb"})}),[r,u,t]);return a&&l?(0,S.jsx)(te.ZP,{placement:re.u.Right,renderTooltip:e=>(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:(0,S.jsx)(m.FormattedMessage,{defaultMessage:"Only you have access",id:"breadcrumb.moveTo.hasPermission.title"})}),(0,S.jsx)("div",{style:{color:d.mediumInvertedTextColor},children:(0,S.jsx)(m.FormattedMessage,{defaultMessage:"Click to move",id:"breadcrumb.moveTo.hasPermission.subtitle"})})]}),render:e=>(0,S.jsxs)(j.Z,{isSmall:!0,disabled:!1,onClick:x,ref:u,...e,children:[(0,$.Q)({width:16,fill:d.lightIconColor}),(0,S.jsx)("span",{style:{color:d.lightTextColor,marginLeft:4,marginRight:5},children:(0,S.jsx)(m.FormattedMessage,{defaultMessage:"Private",id:"breadcrumb.moveTo.privatePages"})}),(0,X.i)({width:9,fill:d.lightIconColor})]})}):null}const se=function(e){window.__c={n:"Breadcrumb"};const{ancestorMaxWidth:t,maxAncestorCount:r,currentPageMaxWidth:d,isMobile:u,showCurrentPageControls:h,store:x,style:m}=e,g=(0,i.useRef)(null),f=(0,n.O7)(),p=(0,o.yK)((()=>({container:{display:"flex",alignItems:"center",lineHeight:1.2,fontSize:u?a.Z.fontSize.UIRegular.mobile:a.Z.fontSize.UIRegular.desktop,...m},enforceMaxLength:{maxWidth:"100%"}})),[u,m]),v=(0,s.VK)((()=>{var e;return!(null===(e=x.getTitleStore())||void 0===e||!e.isReady())}),[x]),b=(0,s.VK)((()=>{const{currentSpaceViewStore:e}=c.default.state;let t;return e&&e.isReady()&&(t=(0,l.Al)(e)),t}),[]),j=(0,s.VK)((()=>!(0,l.WE)(x)&&h&&x.isReady()),[h,x]),M=(0,s.VK)((()=>{var e;return null===(e=f.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone()}),[f]);return v?M?(0,S.jsx)("div",{style:{...p.container,...p.enforceMaxLength},className:"notranslate",children:(0,S.jsx)(J,{store:x,ancestorMaxWidth:t})}):(0,S.jsxs)("div",{style:p.container,className:"notranslate shadow-cursor-breadcrumb",children:[(0,S.jsx)(T,{ancestorMaxWidth:t,maxAncestorCount:r,isMobile:u,homeStore:b,store:x}),j?(0,S.jsx)(G,{currentPageMaxWidth:d,isMobile:u,currentPageRef:g,ref:g,store:x}):(0,S.jsx)(U,{ancestorMaxWidth:t,isMobile:u,currentPageRef:g,store:x}),(0,S.jsx)(ne,{store:x})]}):null}},16184:(e,t,r)=>{r.d(t,{Q:()=>s});r(67294);var i=r(45238),n=r(85893);const s=(0,i.I)("lockedFilled",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M4.69141 14.6338H11.3018C12.2178 14.6338 12.6689 14.1826 12.6689 13.1914V8.08496C12.6689 7.18945 12.293 6.72461 11.541 6.64941V4.96094C11.541 2.36328 9.81152 1.1123 7.99316 1.1123C6.18164 1.1123 4.45215 2.36328 4.45215 4.96094V6.67676C3.74805 6.78613 3.32422 7.2373 3.32422 8.08496V13.1914C3.32422 14.1826 3.77539 14.6338 4.69141 14.6338ZM5.75098 4.83105C5.75098 3.22461 6.76953 2.35645 7.99316 2.35645C9.2168 2.35645 10.2422 3.22461 10.2422 4.83105V6.64258L5.75098 6.64941V4.83105Z"})})}}]);
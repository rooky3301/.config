"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[6212],{27784:(e,t,l)=>{l.r(t),l.d(t,{BlockSkillButton:()=>y});var i=l(67294),n=l(480),o=l(97511),s=l(86628),a=l(24405),r=l(42875),c=l(20669),u=l(9291),d=l(81598),k=l(19124),f=l(77907),g=l(51214),p=l(23063),S=l(91839),b=l(89728),h=l(26388),m=l(85893);function y(e){window.__c={n:"BlockSkillButton"};const{blockStore:t}=e,l=(0,n.O7)(),y=(0,u.useIntl)(),x=(0,o.l)(),w=(0,s.VK)((()=>{const e=x&&x.publicEditModeStore.state;return(0,k.GD)(e)}),[x]),v=(0,s.VK)((()=>g.Z.isGeneratingFor(t.id)),[t]),{value:A}=(0,f.useDependency)(d.L6),B=(0,s.VK)((()=>null==A?void 0:A.clientSkillHelpers.getClientLocalSkillFromBlock(t)),[t,null==A?void 0:A.clientSkillHelpers]),M=(0,s.VK)((()=>t.isSkillBlock()),[t]),j=(0,s.VK)((()=>{var e;return null===(e=t.getModel())||void 0===e?void 0:e.getRenderTitle({getRecordModel:t.getRecordModel,userTimeZone:(0,r.r)(),intl:y})}),[t,y]),[C,F]=(0,i.useState)(!1),I=(0,i.useRef)(null);(0,i.useEffect)((()=>{F(!0),I.current&&clearTimeout(I.current),I.current=setTimeout((()=>{F(!1)}),1e3)}),[j]);const T=(0,i.useCallback)((async()=>{const{assistantActions:e}=await d.L6.loader();await e.fillInAiSection({environment:l,blockStore:t})}),[l,t]),K=function(e){const{isGenerating:t}=e;return(0,a.yK)((e=>({container:{display:"flex"},button:{marginTop:3,fill:t?e.lightIconColor:e.aiPurpleColor,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:28,height:28}})),[t])}({isGenerating:v});return M?(0,m.jsx)(p.Z,{isVisible:!C,enterAnimationStyle:{opacity:0},animationStyle:{opacity:C?0:1},exitAnimationStyle:{opacity:0},render:()=>(0,m.jsx)("div",{style:K.container,children:(0,m.jsx)(h.ZP,{placement:h.ug.Bottom,alignment:h.v2.Start,renderTooltip:()=>w?j?(0,m.jsx)(u.FormattedMessage,{id:"blockSkillButton.fillWithAi.tooltipWithTitle",defaultMessage:"Fill {title} with AI",values:{title:j}}):(0,m.jsx)(u.FormattedMessage,{id:"blockSkillButton.fillWithAi.tooltip",defaultMessage:"Fill with AI"}):(0,m.jsx)(u.FormattedMessage,{id:"blockSkillButton.fillWithAi.tooltipDisabled",defaultMessage:"Enable Notion AI to fill with AI"}),render:e=>(0,m.jsx)(b.Z,{...e,style:K.button,disabled:!B||v||!w,disabledFeedback:!B||v||!w,onClick:async()=>{await T()},children:v?(0,m.jsx)(S.Z,{}):(0,c.y)({width:16})})})})}):null}}}]);
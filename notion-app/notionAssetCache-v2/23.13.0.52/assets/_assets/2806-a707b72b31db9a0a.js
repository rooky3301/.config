"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[2806],{2924:(e,r,t)=>{t.d(r,{g:()=>b});var n=t(67294),o=t(480),a=t(86628),s=t(24405),i=t(72126),d=t(9291),c=t(86572),l=t(89024),u=t(74194),p=t(7124),m=t(27242),g=t(87131);function x(e,r){if(f(e,r))return r[e].message}function f(e,r){return!!r&&e in r}var h=t(85893);function b(e){window.__c={n:"BillingDetails"};const{title:r}=e,[t,o]=(0,n.useState)(""),[s,i]=(0,n.useState)(""),{validationErrors:d}=(0,a.VK)((()=>m.Z.state.open?m.Z.state:{validationErrors:void 0}),[]),c=f("name",d);return(0,n.useEffect)((()=>{c&&t&&m.Z.clearValidationErrorState("name")}),[t,c]),(0,h.jsx)(g.O,{title:r??null,childGap:8,children:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(l.jX,{gap:2,children:[(0,h.jsx)(w,{name:t,setName:o,hasInvalidInput:c}),(0,h.jsx)(v,{hasInvalidInput:c,validationErrors:d})]}),(0,h.jsx)(y,{businessName:s,setBusinessName:i})]})})}function y(e){window.__c={n:"BusinessNameField"};const{businessName:r,setBusinessName:t}=e,n=k(),a=(0,d.useIntl)(),s=(0,o.O7)();return(0,h.jsx)(u.Z,{placeholder:a.formatMessage({defaultMessage:"Business name (optional)",id:"billingDetails.businessName"}),style:n.input,onChange:e=>{!function(e,r){const t=r.target.value,n=m.Z.state;if(!n.open)return;S({environment:e,addressType:"businessName",addressUpdate:t,modal_id:n.sessionId}),m.Z.update((e=>{if(!e.open)return e;const r=e.temporaryAddress;return r.businessName=t,{...e,temporaryAddress:r}}))}(s,e),t(e.target.value)},value:r})}function v(e){const{hasInvalidInput:r,validationErrors:t}=e;return r?(0,h.jsx)(p.q,{colorName:"uiRedPrimary",styleName:"Body-12px/Regular",children:x("name",t)}):null}function w(e){window.__c={n:"NameField"};const{name:r,setName:t,hasInvalidInput:n}=e,a=(0,d.useIntl)(),s=(0,o.O7)(),i=k();return(0,h.jsx)(u.Z,{placeholder:a.formatMessage({defaultMessage:"Name",id:"billingDetails.name"}),style:n?i.invalidInput:i.input,onChange:e=>{!function(e,r){const t=r.target.value,n=m.Z.state;if(!n.open)return;S({environment:e,addressType:"name",addressUpdate:t,modal_id:n.sessionId}),m.Z.update((e=>{if(!e.open)return e;const r=e.temporaryAddress;return r.name=t,{...e,temporaryAddress:r}}))}(s,e),t(e.target.value)},value:r})}function k(){return(0,s.yK)((e=>({input:{padding:10,background:e.surface.wash,width:"100%",boxShadow:e.inputBoxShadow,transition:"box-shadow 0.3s ease-out"},invalidInput:{padding:10,background:e.surface.wash,width:"100%",boxShadow:e.outlineRedInputBoxShadow,transition:"box-shadow 0.3s ease-out"}})),[])}const S=i.Ds((e=>{let{environment:r,addressType:t,addressUpdate:n,modal_id:o}=e;c.rY(r,{addressType:t,addressUpdate:n,modal_id:o})}),1e3)},23412:(e,r,t)=>{t.d(r,{n:()=>g});var n=t(86664),o=(t(67294),t(480)),a=t(86628),s=t(9291),i=t(86572),d=t(89024),c=t(80444),l=t(27242),u=t(37014),p=t(2924),m=t(85893);function g(){window.__c={n:"PaymentFields"};const e=(0,a.VK)((()=>{const e=l.Z.state;if(e.open)return e.sessionId}),[]),r=(0,o.O7)(),t={defaultValues:{billingDetails:(0,a.VK)((()=>{const e=c.default.state.currentUserStore;return{email:null==e?void 0:e.getEmail(),name:null==e?void 0:e.getName()}}),[])}};return(0,m.jsx)(d.jX,{gap:24,children:(0,m.jsxs)(u.x,{label:(0,m.jsx)(s.FormattedMessage,{id:"checkoutPaymentField.paymentDetails.title",defaultMessage:"Payment details"}),children:[(0,m.jsx)(p.g,{}),(0,m.jsx)(n.PaymentElement,{options:t,onChange:t=>{i.Dc(r,{event:t,modal_id:e}),l.Z.update((e=>{if(!e.open)return e;const{paymentData:r,...t}=e;return t}))}})]})})}},37014:(e,r,t)=>{t.d(r,{x:()=>s});t(67294);var n=t(89024),o=t(7124),a=t(85893);function s(e){const{label:r,children:t,gap:s}=e;return(0,a.jsxs)(n.jX,{gap:void 0===s?6:s,children:[(0,a.jsx)(o.q,{as:"label",styleName:"Body-12px/Medium",colorName:"secondary",children:r}),t]})}},72983:(e,r,t)=>{t.d(r,{l:()=>s});t(67294);var n=t(97880),o=t(9291),a=t(85893);function s(e){window.__c={n:"StreetAddress"};const{layout:r,address:t}=e,s=(0,o.useIntl)();if(!t)return null;if("condensed"===r){const e=s.formatList([t.name,t.businessName,t.addressLine1,t.country].filter(Boolean),{type:"conjunction",style:"narrow"});return(0,a.jsx)("div",{children:e})}if("full"===r){const e=s.formatList([t.addressLine1,t.addressLine2].filter(Boolean),{type:"conjunction",style:"narrow"}),r=s.formatList([t.state,t.country,t.zipCode].filter(Boolean),{type:"conjunction",style:"narrow"}),n=[t.name,t.businessName,e,r].filter(Boolean);return(0,a.jsx)("div",{children:n.map(((e,r)=>(0,a.jsx)("div",{children:e},r)))})}(0,n.t1)(r)}},87131:(e,r,t)=>{t.d(r,{O:()=>s});t(67294);var n=t(89024),o=t(7124),a=t(85893);function s(e){let{title:r,children:t,titleGap:s,childGap:i}=e;return(0,a.jsxs)(n.jX,{gap:s||8,children:[(0,a.jsx)(o.q,{styleName:"Caption-12px/Semibold",colorName:"secondary",children:r}),(0,a.jsx)(n.jX,{gap:i||4,children:t})]})}},95014:(e,r,t)=>{t.r(r),t.d(r,{getStripe:()=>h,injectStripe:()=>f,translateStripeError:()=>v,useElementsOptions:()=>y});var n=t(86664),o=t(97894),a=t(67294),s=t(86628),i=t(24405),d=t(24211),c=(t(2438),t(97880)),l=t(82990),u=t(86572),p=t(95477),m=t(80444),g=(t(70060),t(85893));let x=null;function f(e){return r=>{const[t]=a.useState(h);return(0,g.jsx)(n.Elements,{stripe:t,children:(0,g.jsx)(n.ElementsConsumer,{children:t=>{let{stripe:n,elements:o}=t;const a={...r,stripe:n,elements:o};return(0,g.jsx)(e,{...a})}})})}}async function h(){return x||(o.loadStripe.setLoadParameters({advancedFraudSignals:!1}),x=(0,o.loadStripe)(p.default.stripe.key)),x}function b(e){switch(e){case"en-US":return"en";case"ko-KR":return"ko";case"ja-JP":return"ja";case"fr-FR":return"fr-FR";case"de-DE":return"de";case"es-ES":return"es-ES";case"es-LA":return"es-419";case"pt-BR":return"pt-BR";case"zh-CN":return"zh";case"zh-TW":return"zh-TW";case"da-DK":return"da";case"nl-NL":return"nl";case"fi-FI":return"fi";case"nb-NO":return"nb";case"sv-SE":return"sv";default:return"auto"}}function y(e){const r=(0,i.Fg)(),{type:t}=e,n="setup"===t||"subscription"===t?e.currency:void 0,o="subscription"===t?e.amount:void 0,u=(0,s.VK)((()=>{var e;return(null===(e=m.default.state)||void 0===e||null===(e=e.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.preferred_locale)||d.al}),[]),p=(0,s.VK)((()=>({})),[n]);return(0,a.useMemo)((()=>{const e={appearance:function(e){return{labels:"floating",theme:"dark"===e.mode?"night":"stripe",variables:{spacingGridRow:"8px",spacingGridColumn:"8px",spacingUnit:"4px",spacingTab:"4px",colorPrimary:e.text.primary,colorPrimaryText:e.text.primary,colorText:e.text.primary,colorTextSecondary:e.text.secondary,colorTextPlaceholder:e.text.tertiary,colorIcon:e.text.primary,colorIconCheckmark:e.icon.contrast,colorDanger:e.text.uiRedPrimary,colorBackground:e.whiteButtonBackground,colorIconTabHover:e.text.primary,colorIconTabSelected:e.text.uiBluePrimary,colorIconChevronDown:e.text.primary,fontFamily:l.Z.baseFontFamily.sans,fontWeightLight:`${l.Z.fontWeight.light}`,fontWeightNormal:`${l.Z.fontWeight.regular}`,fontWeightMedium:`${l.Z.fontWeight.medium}`,fontWeightBold:`${l.Z.fontWeight.semibold}`,fontSizeBase:"14px",fontSizeSm:"12px",colorLogo:e.mode,colorLogoBlock:e.mode,colorLogoTab:e.mode,colorLogoTabSelected:e.mode,borderRadius:"4px"},rules:{".Tab":{padding:"10px 16px 10px 10px",fontSize:"13px",fontWeight:"510",lineHeight:"16px",color:e.text.primary,border:`1px solid ${e.stroke.regular}`,boxShadow:"none",backgroundColor:e.whiteButtonBackground},".Tab:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary},".Tab:focus":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.regular}`,boxShadow:e.outlineBlueInputBoxShadow},".Tab--selected, .Tab--selected:hover, .Tab--selected:active":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBlue}`,color:e.text.primary,boxShadow:"none",outline:"none"},".Tab--selected:focus":{border:`1px solid ${e.stroke.uiBlue}`,boxShadow:e.outlineBlueInputBoxShadow},".Input":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",padding:"4px 8px",boxShadow:"none",backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.regular}`,cursor:"text",color:e.text.primary},".Input--invalid":{border:"none",color:e.text.primary,boxShadow:e.outlineRedInputBoxShadow},".Label":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",color:e.text.tertiary},".Label--floating":{fontSize:"10px",fontWeight:"590",lineHeight:"13px",letterSpacing:"0.12px",marginTop:"4px",transition:"all 200ms ease",color:e.text.secondary},".Error":{fontSize:"12px",fontWeight:"400",lineHeight:"15px",color:e.text.uiRedPrimary},".CodeInput":{backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.regular}`,boxShadow:"none"},".PickerItem, .PickerItem--selected":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.regular}`,boxShadow:"none",color:e.text.primary},".PickerItem:hover, .PickerItem--selected:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary,border:`1px solid ${e.stroke.regular}`,boxShadow:"none"},".PickerItem--new":{fontSize:"14px",fontWeight:"500",lineHeight:"18px",color:e.text.primary},".PickerItem--highlight, .PickerItem--highlight:hover":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBlue}`,boxShadow:"none"},".PickerItem--highlight:hover":{backgroundColor:e.whiteButtonHoveredBackground},".TermsText":{color:e.text.secondary,fontSize:"12px",fontWeight:"400",lineHeight:"15px"},".CheckboxLabel":{color:e.text.primary,fontSize:"12px",fontWeight:"500",lineHeight:"15px"},".Action, .MenuAction":{color:e.text.primary,fontWeight:"400"},".Action:hover, .MenuAction:hover":{backgroundColor:e.buttonHoveredBackground},".BlockAction:focus, .CodeInput:focus, .Input:focus,.CheckboxInput:focus, .PickerItem:focus, .PickerAction:focus,.MenuAction:focus, .Action:focus, .SecondaryLink:focus":{boxShadow:e.outlineBlueInputBoxShadow},".MenuIcon, .MenuIcon:hover":{fill:e.text.primary},".Block":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.regular}`,boxShadow:"none",color:e.text.primary}}}}(r),locale:b(u)};switch(t){case"address":return e;case"setup":return{...e,...p,currency:null==n?void 0:n.toLowerCase(),mode:"setup",paymentMethodCreation:"manual"};case"subscription":return{...e,...p,amount:o,currency:null==n?void 0:n.toLowerCase(),mode:"subscription",paymentMethodCreation:"manual",setupFutureUsage:"off_session"};default:(0,c.t1)(t)}}),[r,u,t,n,o,p])}function v(e,r,t){if(!t.code)return t.message||"";switch(u._q(e,{error:t.code,stripe_decline_code:t.decline_code}),t.code){case"invalid_expiry_year_past":return r.formatMessage({id:"stripeHelpers.invalidExpiryYear.error.message",defaultMessage:"Your card's expiration year is in the past."});case"invalid_cvc":return r.formatMessage({id:"stripeHelpers.invalidCVC.error.message",defaultMessage:"Your card's security code is invalid."});case"invalid_number":return r.formatMessage({id:"stripeHelpers.invalidNumber.error.message",defaultMessage:"Your card number is not a valid credit card number."});case"card_declined":return function(e,r){switch(r){case"expired_card":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.expiredCard",defaultMessage:"Your card was declined because it is an expired card."});case"incorrect_number":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.incorrectNumber",defaultMessage:"Your card was declined because you input an incorrect number."});case"insufficient_funds":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.declinedFunds",defaultMessage:"Your card was declined because of insufficient funds."});case"invalid_cvc":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidCvc",defaultMessage:"Your card was declined because you input an invalid CVC number"});case"invalid_amount":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidAmount",defaultMessage:"Your card was declined because payment amount exceeds the amount that's allowed."});default:return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message",defaultMessage:"Your card was declined."})}}(r,t.decline_code);default:return t.message||""}}},76088:(e,r,t)=>{t.d(r,{P:()=>s});var n=t(67294),o=t(480),a=t(54642);function s(){const e=(0,o.O7)(),[r,t]=(0,n.useState)();return(0,n.useEffect)((()=>{!async function(){const r=await a.getExternalOrgData(e,{});if("failed"===r.type)return!1;const n=r.data;t("company_employee_count"in n&&parseInt(n.company_employee_count)>99)}()}),[e]),r}}}]);